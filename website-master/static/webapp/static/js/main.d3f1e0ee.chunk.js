(window["webpackJsonpwebsite-react-webapp"]=window["webpackJsonpwebsite-react-webapp"]||[]).push([[0],{143:function(e,t,a){},144:function(e,t,a){},161:function(e,t,a){e.exports=a(335)},166:function(e,t,a){},242:function(e,t,a){},251:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getHomeAction",function(){return W}),a.d(n,"getHomePageAction",function(){return z}),a.d(n,"getHome",function(){return J}),a.d(n,"getHomePage",function(){return U}),a.d(n,"getSerach",function(){return G}),a.d(n,"getSerachPage",function(){return Y}),a.d(n,"getSerachAxios",function(){return V});var i={};a.r(i),a.d(i,"getArticleDetail",function(){return ye}),a.d(i,"ArticleDel",function(){return ve}),a.d(i,"getArticleDetailAxios",function(){return we});var r={};a.r(r),a.d(r,"getListAction",function(){return $t}),a.d(r,"getListActionPage",function(){return Kt}),a.d(r,"getListActionAxios",function(){return Qt}),a.d(r,"getListActionPageAxios",function(){return Zt}),a.d(r,"getSerach",function(){return ea}),a.d(r,"getSerachPage",function(){return ta}),a.d(r,"getSerachAxios",function(){return aa}),a.d(r,"getDetaile",function(){return na}),a.d(r,"getgetDetailePageAxios",function(){return ia}),a.d(r,"ArticleDel",function(){return ra});var s=a(0),o=a.n(s),c=a(14),l=a.n(c),u=a(4),m=a(5),h=a(8),p=a(7),d=a(9),f=a(3),g=a(51),E=(a(166),{display:"flex",width:"100%",height:"50px",justifyContent:"space-around",position:"fixed",bottom:"0",alignItems:"center",background:"#fff",fontSize:"16px"}),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"/"===(e=this.props).location.pathname||"/person/"===e.location.pathname||"/person"===e.location.pathname||"/forum/"===e.location.pathname?o.a.createElement("div",{className:"App"},e.children,o.a.createElement("div",{style:E},o.a.createElement(f.c,{to:"/",exact:!0,activeStyle:{fontWeight:"bold",color:"#356dd0"}},"\u6587\u7ae0"),o.a.createElement(f.c,{to:"/forum/",exact:!0,activeStyle:{fontWeight:"bold",color:"#356dd0"}},"\u8bba\u575b"),o.a.createElement(f.c,{to:"/person/",exact:!0,activeStyle:{fontWeight:"bold",color:"#356dd0"}},"\u6211\u7684"))):o.a.createElement("div",{className:"App"},e.children));var e}}]),t}(o.a.Component),v=Object(g.f)(y),w=(a(58),a(37)),b=a.n(w),S=(a(128),a(84)),O=a.n(S),_=(a(31),a(23)),k=a.n(_),N=(a(29),a(21)),j=a.n(N),C=(a(63),a(27)),L=a.n(C),x=a(22),T=a(16),P=a(40);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I={articleList:[],list:[],isShow:!0},q=a(19),D=a(154),F=a.n(D),M=new(function(){function e(t){Object(u.a)(this,e),this.baseUrl=t,this.queue={}}return Object(m.a)(e,[{key:"getInsideConfig",value:function(){return{baseURL:this.baseUrl,headers:{}}}},{key:"destroy",value:function(e){delete this.queue[e],Object.keys(this.queue).length}},{key:"interceptors",value:function(e,t){var a=this;e.interceptors.request.use(function(e){return Object.keys(a.queue).length,a.queue[t]=!0,e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){return a.destroy(t),{data:e.data,status:e.status}},function(e){a.destroy(t);var n=e.response;if(!n){var i=JSON.parse(JSON.stringify(e)),r=Object(q.a)({},i);n={statusText:r.message,status:400,request:{responseURL:r.url}}}return function(e){var t=e.statusText,a={type:"ajax",code:e.status,mes:t,url:e.request.responseURL};console.log("error",a)}(n),Promise.reject(e)})}},{key:"request",value:function(e){var t=F.a.create();return e=Object.assign(this.getInsideConfig(),e),this.interceptors(t,e.url),t(e)}}]),e}())(""),H=function(e,t){return M.request({url:"/api/UserFollows/".concat(e,"/?follow=1"),headers:{Authorization:"JWT ".concat(t)},method:"delete"})},B=function(e,t){return M.request({url:"/api/UserFollows/?follow=1",headers:{Authorization:"JWT ".concat(t)},data:e,method:"post"})},W=function(e){return{type:"home/HOME_GET_LIST",data:e}},z=function(e){return{type:"home/HOME_GET_PAGING",data:e}},J=function(){return function(e){M.request({url:"/api/article_list/",method:"get"}).then(function(t){e(W(t.data))})}},U=function(e){return function(t){(function(e){return M.request({url:"/api/article_list/?page="+e,method:"get"})})(e).then(function(e){t(z(e.data))})}},G=function(e){return{type:"home/HOME_GET_ARTICLE_SEARCH",data:e}},Y=function(e){return{type:"home/HOME_GET_ARTICLE_SEARCH_PAGE",data:e}},V=function(e,t,a,n){return function(i){(function(e,t,a){return M.request({url:a?"api/article_list/?title=".concat(e,"&page=").concat(t):"api/article_list/?category=".concat(e,"&page=").concat(t),method:"get"})})(e,t,n).then(function(e){i(a?Y(e.data):G(e.data))})}},X=a(57),$=a.n(X),K=function(e){var t=0;return e.article_comment_set.map(function(e){return t+=e.articlecommentreply_set.length}),t+=e.article_comment_set.length},Q=function(e){var t=0;return e.comment_set.map(function(e){return t+=e.parent_comment_set.length}),t+=e.comment_set.length},Z=function(e){var t=[],a=window.location.href.split("?")[1];if(a){if(!(a.indexOf("&")>0))return a.split("=")[1];t=a.split("&");for(var n=0;n<t.length;n++){var i=t[n].split("=");if(e===i[0])return i[1]}}},ee=function(e){$.a.set("user",e,{expires:30})},te=function(){var e=$.a.get("token");return e||!1},ae=function(){var e=$.a.get("user");return e||!1},ne=function(){$.a.remove("token")},ie=function(){$.a.remove("user")},re=(a(242),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getHomeList()},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),window.sessionStorage.getItem("serach")?a.props.getSerach(window.sessionStorage.getItem("serach"),a.state.page,!0):window.sessionStorage.getItem("serachs")?a.props.getSerach(window.sessionStorage.getItem("serachs"),a.state.page,!0,!0):a.props.getHomePage(a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,page:1,categrty:null,height:document.documentElement.clientHeight,useBodyScroll:!1,search:!0},a.changeState=a.changeState.bind(Object(x.a)(a)),a.submit=a.submit.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){var e=this;this.props.getHomeList(),M.request({url:"api/category/",method:"get"}).then(function(t){e.setState({categrty:t.data})}),window.sessionStorage.clear()}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isLoading:!1,search:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop-50,page:e.page.next?++this.state.page:""})}},{key:"submit",value:function(e){window.sessionStorage.clear(),this.setState({search:!0,page:1}),window.sessionStorage.setItem("serachs",e),this.props.getSerach(e,1,"",!0),document.getElementsByClassName("am-list-view-scrollview")[0].scrollTop=0}},{key:"serach",value:function(e){window.sessionStorage.clear(),this.setState({search:!0,page:1}),window.sessionStorage.setItem("serach",e),this.props.getSerach(e,1),document.getElementsByClassName("am-list-view-scrollview")[0].scrollTop=0}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.search})),o.a.createElement(O.a,{placeholder:"Search",onSubmit:this.submit}),o.a.createElement("div",{className:"nav"},o.a.createElement("div",null,this.state.categrty?this.state.categrty.map(function(t,a){return o.a.createElement("span",{key:t.id,onClick:function(){return e.serach(t.id)}},t.name)}):"")),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},ae()?o.a.createElement(f.b,{to:JSON.parse(ae()).id===e.authors.id?"/person/":"/person/".concat(e.authors.id)},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username):o.a.createElement(f.b,{to:"/person/".concat(e.authors.id)},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username)),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),e.list_pic?o.a.createElement("div",{className:"list-title"},o.a.createElement("div",{className:"list-title-left txt-cut"},e.title),o.a.createElement("div",{className:"list-title-right"},o.a.createElement("img",{src:e.list_pic,alt:""}))):o.a.createElement("div",{className:"list-title",style:{height:"auto"}},o.a.createElement("div",{className:"list-title-left txt-cut",style:{width:"100%"}},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},K(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/article/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached}))}}]),t}(s.Component)),se=Object(T.b)(function(e){return{page:e.home.articleList,isShow:e.home.isShow,list:e.home.list}},function(e){return{getHomeList:function(){e(n.getHome())},getHomePage:function(t){e(n.getHomePage(t))},getSerach:function(t,a,i,r){e(n.getSerachAxios(t,a,i,r))}}})(re),oe=(a(64),a(26)),ce=a.n(oe),le=(a(28),a(17)),ue=a.n(le),me=(a(25),a(13)),he=a.n(me),pe=(a(43),a(15)),de=a.n(pe);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ee={list:[]},ye=function(e){return{type:"/article/ARTILCE_DETAIL",data:e}},ve=function(){return{type:"/article/ARTILCE_DEL"}},we=function(e){return function(t){(function(e){return M.request({url:"/api/article_list/".concat(e,"/"),method:"get"})})(e).then(function(e){t(ye(e.data))})}},be=a(85),Se=function(e){return M.request({url:"/api/apiinfo/",headers:{Authorization:"JWT ".concat(e)},method:"get"})},Oe=function(e,t,a){return M.request({url:"/api/apiinfo/".concat(e,"/"),headers:{Authorization:"JWT ".concat(t)},data:a,method:"put"})},_e=function(e){return M.request({url:"/api/all_info/".concat(e),method:"get"})},ke=function(e,t){return M.request({url:"/api/UserFollowOther/?fan=".concat(e,"&user_id=").concat(t),method:"get"})},Ne=function(e,t,a,n,i,r){return M.request({url:"/api/UserFollowOther/".concat(e,"/?").concat(a,"=").concat(t,"&user_id=").concat(n),data:r,headers:{Authorization:"JWT ".concat(i)},method:"delete"})},je=a(156),Ce=a.n(je),Le="\u5fae\u4fe1\u626b\u4e00\u626b\uff1a\u5206\u4eab",xe="\u5fae\u4fe1\u91cc\u70b9\u201c\u53d1\u73b0\u201d\uff0c\u626b\u4e00\u4e0b,\u4e8c\u7ef4\u7801\u4fbf\u53ef\u5c06\u672c\u6587\u5206\u4eab\u81f3\u670b\u53cb\u5708\u3002",Te=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.sites,t=this.props.url,a=Le,n=xe,i=this.props.title,r=this.props.description,s=this.props.image,c=i,l=this.props.origin,u=r,m=c,h={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=".concat(t,"&title=").concat(i,"&desc=").concat(r,"&summary=").concat(u,"&site=").concat(c,"&pics=").concat(s),qq:"http://connect.qq.com/widget/shareqq/index.html?url=".concat(t,"&title=").concat(i,"&source=").concat(m,"&desc=").concat(r),tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title=".concat(i,"&url=").concat(t,"&pic=").concat(s),weibo:"https://service.weibo.com/share/share.php?title=".concat(i,"&pic=").concat(s,"&url=").concat(t,"&appkey="),wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?name=".concat(i,"&text=").concat(r,"&image=").concat(s,"&starid=0&aid=0&style=11&href=").concat(t),diandian:"http://www.diandian.com/share?lo=".concat(t,"&ti=").concat(i,"&type=link"),linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title=".concat(i,"&url=").concat(t,"&summary=").concat(u,"&source=").concat(m,"&armin=armin"),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(t),twitter:"https://twitter.com/intent/tweet?text=".concat(i,"&url=").concat(t,"&via=").concat(l),google:"https://plus.google.com/share?url=".concat(t)};return o.a.createElement("div",{className:"social-share"},function(e){return e.map(function(e,i){if("wechat"===e){var r=o.a.createElement("div",{key:i,className:"wechat-qrcode"},o.a.createElement("h4",null,a),o.a.createElement("div",{className:"qrcode"},o.a.createElement(Ce.a,{value:t,size:100})),o.a.createElement("div",{className:"help"},o.a.createElement("p",null,n)));return o.a.createElement("span",{key:i,className:"social-share-icon icon-wechat",target:"_blank"},r)}var s="icon-".concat(e," social-share-icon");return o.a.createElement("a",{key:i,className:s,href:h[e],target:"_blank"})})}(e))}}]),t}(o.a.Component),Pe=function(e){for(var t=(e+"").split(""),a=0;a<13;a++)t[a]||(t[a]="0");e=1*t.join("");var n=(new Date).getTime()-e;if(n<0)return"\u4e0d\u4e45\u524d";var i=n/2592e6,r=n/6048e5,s=n/864e5,o=n/36e5,c=n/6e4,l=function(e){return e<10?"0"+e:e};return i>12?function(){var t=new Date(e);return t.getFullYear()+"\u5e74"+l(t.getMonth()+1)+"\u6708"+l(t.getDate())+"\u65e5"}():i>=1?parseInt(i)+"\u6708\u524d":r>=1?parseInt(r)+"\u5468\u524d":s>=1?parseInt(s)+"\u5929\u524d":o>=1?parseInt(o)+"\u5c0f\u65f6\u524d":c>=1?parseInt(c)+"\u5206\u949f\u524d":"\u521a\u521a"},Ae=(a(251),a(143),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).getContent=function(){return a.props.list.article.list.content},a.show=function(){a.setState({_visite:!a.state._visite})},a.state={isShow:!0,_visite:!1,model:!1,comm:null,vue:"",type:!1,rep:null,user:!1,follows:!1,follows_id:null},a.Change=a.Change.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.init(e)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;document.title="\u6587\u7ae0-".concat(e.list.article.list.title),document.getElementById("desc").setAttribute("content",e.list.article.list.desc),document.getElementById("keywords").setAttribute("content",e.list.article.list.keywords),window.sessionStorage.setItem("k",e.list.article.list.content),te()&&JSON.parse(ae()).id===e.list.article.list.authors.id&&this.setState({user:!0}),ke(e.list.article.list.authors.id,ae()?JSON.parse(ae()).id:"").then(function(e){if(a.setState({isShow:!1}),ae()&&e.data.length>0)for(var t in e.data)e.data[t].fan.id===JSON.parse(ae()).id&&a.setState({follows:!0,follows_id:e.data[t].id})})}},{key:"del",value:function(){var e=this;te()||this.props.history.push("/login/?next=/article/detail/".concat(this.props.match.params.id)),H(this.state.follows_id,te()).then(function(t){204===t.status&&(de.a.success("\u53d6\u6d88\u5173\u6ce8\u6210\u529f",1),e.setState({follows:!1}))})}},{key:"add",value:function(e){var t=this;te()||this.props.history.push("/login/?next=/article/detail/".concat(this.props.match.params.id));var a={follow:e.id,fan:JSON.parse(ae()).id};B(a,te()).then(function(e){t.props.init(t.props.match.params.id),de.a.success(e.data.message,1)})}},{key:"componentWillUnmount",value:function(){this.props.Unmount()}},{key:"setModel",value:function(e){te()?this.setState({model:!0,comm:e}):this.props.history.push("/login/?next=/article/detail/".concat(this.props.match.params.id))}},{key:"Change",value:function(e){this.setState({vue:e.target.value})}},{key:"sub",value:function(e){var t=this;if(e.preventDefault(),te()){if(0==this.state.vue.trim().length)return;var a={};a.article="".concat(this.props.match.params.id),a.comments=this.state.vue,a.user=JSON.parse(ae()).id,a.url="/article/detail/".concat(this.props.match.params.id),a.cip=window.returnCitySN.cip,a.address=window.returnCitySN.cname,function(e,t){return M.request({url:"/api/article_Comment/",headers:{Authorization:"JWT ".concat(e)},data:t,method:"post"})}(te(),a).then(function(e){de.a.success("\u8bc4\u8bba\u6210\u529f",1),t.props.init(t.props.match.params.id),t.setState({vue:"",rep:null})}).catch(function(e){console.log(e.response)})}else de.a.fail("\u672a\u767b\u5f55",1)}},{key:"reple",value:function(e){var t=this;te()||this.props.history.push("/login/?next=/forum/detail/".concat(this.props.match.params.id)),this.setState({type:!0,rep:e},function(){t.textInput.focus()})}},{key:"subRep",value:function(e){var t=this;if(e.preventDefault(),te()){if(0==this.state.vue.trim().length)return;var a={};a.comments=this.state.vue,a.user=JSON.parse(ae()).id,a.url="/article/detail/".concat(this.props.match.params.id),a.cip=window.returnCitySN.cip,a.address=window.returnCitySN.cname,a.to_uids=this.state.rep.user.id,a.aomments_id=this.state.rep.aomments_id,function(e,t){return M.request({url:"/api/comment_reply/",headers:{Authorization:"JWT ".concat(e)},data:t,method:"post"})}(te(),a).then(function(e){console.log(e),t.props.init(t.props.match.params.id),t.setState({vue:"",rep:null,model:!1}),de.a.success("\u56de\u590d\u6210\u529f",1)})}else de.a.fail("\u672a\u767b\u5f55",1)}},{key:"render",value:function(){var e=this,t=this.props.list.article.list;return o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()},rightContent:o.a.createElement(he.a,{key:"1",type:"ellipsis",onClick:this.show})},"\u6587\u7ae0"),this.state.isShow?"":o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"detail-header"},o.a.createElement("div",{className:"detaile-header-img"},this.state.user?o.a.createElement(f.b,{to:"/person/"},o.a.createElement("img",{src:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,alt:""})):o.a.createElement(f.b,{to:"/person/".concat(t.authors.id)},o.a.createElement("img",{src:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,alt:""})),o.a.createElement("div",{className:"detaile-header-info"},o.a.createElement("h4",null,t.authors.username),o.a.createElement("span",null,Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),"\u53d1\u5e03"),o.a.createElement("span",{className:"click"},"\u9605\u8bfb ",t.click_nums)),this.state.follows?o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",style:{marginRight:"4px"},onClick:function(){return e.del()}},"\u5df2\u5173\u6ce8"):o.a.createElement(ce.a,{type:"ghost",inline:!0,size:"small",style:{marginRight:"4px"},onClick:function(){return e.add(t.authors)}},"\u5173\u6ce8")),o.a.createElement("h1",null,t.title)),o.a.createElement(be.a.EditorShow,{config:{markdown:this.getContent()}}),o.a.createElement("div",{className:"commit"},o.a.createElement("p",{className:"commit-p"}),o.a.createElement("div",{className:"commit-main"},t.article_comment_set.map(function(t,a){return o.a.createElement("div",{key:a,className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement(f.b,{to:"/person/".concat(t.user.id)},o.a.createElement("img",{src:t.user.user_imag?t.user.user_imag:t.user.user_image?t.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,t.user.username),o.a.createElement("p",null,t.comments),o.a.createElement("p",null,Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.setModel(t)},className:t.articlecommentreply_set.length>0?"active":""},t.articlecommentreply_set.length>0?t.articlecommentreply_set.length:"","\u56de\u590d"))))}))),o.a.createElement("div",{className:"footer"},te()?o.a.createElement("form",{action:"",onSubmit:function(t){return e.sub(t)}},o.a.createElement("input",{type:"text",value:this.state.vue,onChange:this.Change,placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427"})):o.a.createElement(f.b,{to:"/login/?next=/article/detail/".concat(this.props.match.params.id)},"\u767b\u5f55\u540e\u53ef\u8bc4\u8bba")),o.a.createElement("div",{id:"model",onClick:function(){return e.setState({_visite:!1})},className:this.state._visite?"animated-fade-in":"animated-fade-out"},o.a.createElement("div",{className:"model-main",onClick:function(e){e.stopPropagation()}},o.a.createElement(Te,{className:this.state._visite?"animated-slide-in-up":"animated-slide-out-down",title:document.title,url:window.location.href,image:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,description:document.getElementById("desc").getAttribute("content"),origin:window.location.href,sites:["weibo","qq","wechat","douban","qzone"]}),o.a.createElement("p",{className:"close",onClick:function(){return e.setState({_visite:!1})}},"\u53d6\u6d88"))),this.state.model?o.a.createElement("div",{className:this.state.model?" model animated-fade-in":"animated-fade-out"},o.a.createElement(ue.a,{icon:o.a.createElement(he.a,{type:"down"}),onLeftClick:function(){return e.setState({model:!1})}},"\u56de\u590d"),o.a.createElement("div",{className:"commit",style:{marginTop:50}},o.a.createElement("div",{className:"commit-main"},o.a.createElement("div",{className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement("img",{src:this.state.comm.user.user_imag?this.state.comm.user.user_imag:this.state.comm.user.user_image?this.state.comm.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,this.state.comm.user.username),o.a.createElement("p",null,this.state.comm.comments),o.a.createElement("p",{className:"timer"},Pe(new Date(this.state.comm.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.reple(e.state.comm)}},"\u56de\u590d")))),this.state.comm.articlecommentreply_set.map(function(t,a){return o.a.createElement("div",{key:a,className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement("img",{src:t.user.user_imag?t.user.user_imag:t.user.user_image?t.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,t.user.username),o.a.createElement("p",null,"\u56de\u590d ",o.a.createElement("span",{className:"user"},t.to_uids.username)," ",t.comments),o.a.createElement("p",{className:"timer"},Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.reple(t)}},"\u56de\u590d"))))}))),this.state.type?o.a.createElement("form",{action:"",className:"footer",onSubmit:function(t){return e.subRep(t)}},o.a.createElement("input",{type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427",value:this.state.vue,onChange:this.Change,onBlur:function(){return e.setState({type:!1,vue:"",rep:null})},ref:function(t){e.textInput=t}})):""):null))}}]),t}(o.a.Component)),Re=Object(T.b)(function(e){return{list:e}},function(e){return{init:function(t){e(i.getArticleDetailAxios(t))},Unmount:function(){e(i.ArticleDel())}}})(Ae),Ie=(a(144),"/my/OTHERS/OTHERFORUM"),qe=function(e){return{type:"/my/MY_GETINFO",data:e}},De=function(e){return function(t){Se(e).then(function(e){t(qe(e.data))}).catch(function(e){t(qe(e.response.data))})}},Fe=function(e){return function(t){(function(e){return M.request({url:"api/me_article_list/",headers:{Authorization:"JWT ".concat(e)},method:"get"})})(e).then(function(e){t({type:"/my/MY_ARTICLE_LIST",data:e.data})})}},Me=function(e,t){return function(a){(function(e,t){return M.request({url:"api/me_article_list/?page="+e,headers:{Authorization:"JWT ".concat(t)},method:"get"})})(e,t).then(function(e){a({type:"/my/MY_ARTICLE_LIST_PAGE",data:e.data})})}},He=function(e){return function(t){(function(e){return M.request({url:"api/forum/",headers:{Authorization:"JWT ".concat(e)},method:"get"})})(e).then(function(e){t({type:"/my/MY_FORUM_LIST",data:e.data})})}},Be=function(e,t){return function(a){(function(e,t){return M.request({url:"api/forum/?page="+e,headers:{Authorization:"JWT ".concat(t)},method:"get"})})(e,t).then(function(e){a({type:"/my/MY_FORUM_LIST_PAGE",data:e.data})})}},We=function(e){return function(t){var a;(a=e,M.request({url:"api/UserFollows/?fan=1",headers:{Authorization:"JWT ".concat(a)},method:"get"})).then(function(e){t({type:"/my/MY_FAN",data:e.data})})}},ze=function(e){return function(t){var a;(a=e,M.request({url:"api/UserFollows/?follow=1",headers:{Authorization:"JWT ".concat(a)},method:"get"})).then(function(e){t({type:"/my/MY_FOLLOW",data:e.data})})}},Je=function(e){return function(t){(function(e){return M.request({url:"/api/UserMessages/?type=unread",headers:{Authorization:"JWT ".concat(e)},method:"get"})})(e).then(function(e){t({type:"/my/MY_GETMESSAGECOUNT",data:e.data})})}},Ue=function(e){return function(t){(function(e){return M.request({url:"/api/PersonOthers/?pk=".concat(e),method:"get"})})(e).then(function(e){t({type:"/my/OTHERS/OTHERARTICLE",data:e.data})})}},Ge=function(e,t){return function(a){(function(e,t){return M.request({url:"/api/PersonOthers/?pk=".concat(e,"&page=").concat(t),method:"get"})})(e,t).then(function(e){a({type:"/my/OTHERS/OTHERARTICLE_PAGE",data:e.data})})}},Ye=function(e){return function(t){(function(e){return M.request({url:"/api/forum/?pk=".concat(e),method:"get"})})(e).then(function(e){var a;t((a=e.data,{type:Ie,data:a}))})}},Ve=function(e,t){return function(a){(function(e,t){return M.request({url:"/api/forum/?pk=".concat(e,"&page=").concat(t),method:"get"})})(e,t).then(function(e){a({type:"/my/OTHERS/OTHERFORUM_PAGE",data:e.data})})}},Xe=(a(145),a(86)),$e=a.n(Xe),Ke=(a(103),a(55)),Qe=a.n(Ke),Ze=a(1),et=a.n(Ze),tt=Qe.a.Item,at=$e.a.alert,nt=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),o.a.createElement(s.Fragment,null,this.props.type?o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()},rightContent:this.props.name?o.a.createElement(f.b,{to:"/person/message",style:{color:"#fff"}},o.a.createElement("div",{className:" fa  fa-commenting-o"},this.props.message.count>0?o.a.createElement("b",{className:"commenting"}):"")):""},"\u4e2a\u4eba\u4e2d\u5fc3"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"container-header"},o.a.createElement("div",{className:"container-header-main"},o.a.createElement("img",{src:this.props.image,alt:""}),this.props.name?o.a.createElement(f.b,{to:"/person/info",className:"user"},o.a.createElement("span",null,this.props.name),o.a.createElement(he.a,{type:"right\r\n"})):o.a.createElement(f.b,{to:"/login",className:"user"},"\u767b\u5f55/\u6ce8\u518c"))),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6587\u7ae0.png",onClick:function(){te()?e.props.history.push("/person/article"):e.props.history.push("/login")}},"\u6211\u7684\u6587\u7ae0"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u5e16\u5b50.png",onClick:function(){te()?e.props.history.push("/person/forum"):e.props.history.push("/login")}},"\u6211\u7684\u5e16\u5b50"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6211\u7684\u7c89\u4e1d.png",onClick:function(){te()?e.props.history.push("/person/myFan"):e.props.history.push("/login")}},"\u6211\u7684\u7c89\u4e1d"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6211\u7684\u5173\u6ce8.png",onClick:function(){te()?e.props.history.push("/person/myFollows"):e.props.history.push("/login")}},"\u6211\u7684\u5173\u6ce8"),te()?o.a.createElement(ce.a,{type:"warning",style:{marginTop:20},onClick:function(){return at("\u63d0\u793a","\u786e\u8ba4\u9000\u51fa\u767b\u5f55?",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u8ba4",onPress:function(){return e.props.itemLogOut()}}])}},"\u9000\u51fa\u767b\u5f55"):"")):o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u4e2a\u4eba\u4e2d\u5fc3"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"container-header"},o.a.createElement("div",{className:"container-header-main"},o.a.createElement("img",{src:this.props.image,alt:""}),o.a.createElement(f.b,{to:"/person/info/".concat(this.props.id),className:"user"},o.a.createElement("span",null,this.props.name),o.a.createElement(he.a,{type:"right\r\n"})))),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6587\u7ae0.png",onClick:function(){e.props.history.push("/person/article/".concat(e.props.id))}},"\u6587\u7ae0"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u5e16\u5b50.png",onClick:function(){e.props.history.push("/person/forum/".concat(e.props.id))}},"\u5e16\u5b50"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6211\u7684\u7c89\u4e1d.png",onClick:function(){e.props.history.push("/person/fan/".concat(e.props.id))}},"\u7c89\u4e1d"),o.a.createElement(tt,{arrow:"horizontal",thumb:"https://www.fengjinqi.com/static/img/\u6211\u7684\u5173\u6ce8.png",onClick:function(){e.props.history.push("/person/follows/".concat(e.props.id))}},"\u5173\u6ce8"))))}}]),t}(s.Component);nt.propsTypes={name:et.a.string,image:et.a.string,itemLogOut:et.a.func,history:et.a.func,type:et.a.bool,id:et.a.string},nt.defaultProps={image:"https://www.fengjinqi.com/static/img/pc-icon.png",type:!0,id:""};var it=nt,rt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).logout=function(){ne(),ie(),de.a.fail("\u9000\u51fa\u6210\u529f",1),a.setState({_visite:!1})},a.state={type:!1,_visite:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getInfo()}},{key:"componentWillUnmount",value:function(){this.setState({type:!1,_visite:!1})}},{key:"componentWillReceiveProps",value:function(e,t){e.info.detail?(ne(),ie(),de.a.fail("\u7b7e\u540d\u5df2\u8fc7\u671f,\u8bf7\u91cd\u65b0\u767b\u5f55",1),this.props.history.push("/login")):(ee(e.info[0]),console.log(ae())),e.info&&e.myMessageType&&this.setState({type:!0,_visite:!0})}},{key:"render",value:function(){var e=this.props,t=e.info,a=e.myMessageType;return te()?this.state.type?o.a.createElement(s.Fragment,null,this.state._visite&&t[0]?o.a.createElement(it,{name:t[0].username,image:t[0].user_imag?t[0].user_imag:t[0].user_image?t[0].user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",itemLogOut:this.logout.bind(this),history:this.props.history,getInfo:this.props.getInfo.bind(this),message:a}):o.a.createElement(it,{history:this.props.history})):o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d"}))):o.a.createElement(it,{history:this.props.history})}}]),t}(o.a.Component),st=Object(T.b)(function(e){return{info:e.my.info,error:e.my.error,isShow:e.my.isShow,myMessageType:e.my.myMessageType}},function(e){return{getInfo:function(){te()&&(e(De(te())),e(Je(te())))}}})(rt),ot=(a(256),a(257),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",userrError:"",passError:""},a.Change=a.Change.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){te()&&this.props.history.push("/person")}},{key:"submit",value:function(){var e=this,t=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;(t.test(this.state.username)||this.setState({userError:"\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1"}),this.state.password||this.setState({passError:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),t.test(this.state.username)&&this.state.password)&&function(e){return M.request({url:"/api/login/",data:e,method:"post"})}({username:this.state.username,password:this.state.password}).then(function(t){var a;a=t.data.token,$.a.set("token",a,{expires:30}),Se(te()).then(function(t){ee(t.data[0]),Z("next")?e.props.history.push("".concat(Z("next"))):e.props.history.push("/person")})}).catch(function(e){console.log(e.response)})}},{key:"Change",value:function(e){this.setState({userError:"",passError:""}),"user"===e.target.name?this.setState({username:e.target.value}):"pass"===e.target.name&&this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u767b\u5f55"),o.a.createElement("div",{className:"login-container"},o.a.createElement("img",{src:"../../static/img/logo.png",alt:""}),o.a.createElement("div",{className:"login-form"},o.a.createElement("form",{className:"from"},o.a.createElement("div",{className:"login-form-main"},o.a.createElement("span",{className:"fa fa-envelope-o"}),o.a.createElement("input",{type:"email",name:"user",value:this.state.username,onChange:this.Change,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",required:!0}),o.a.createElement("span",{className:"error"},this.state.userError)),o.a.createElement("div",{className:"login-form-main"},o.a.createElement("span",{className:"fa fa-key"}),o.a.createElement("input",{type:"password",name:"pass",value:this.state.password,onChange:this.Change,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",required:!0}),o.a.createElement("span",{className:"error"},this.state.passError)),o.a.createElement("div",{className:"login-form-main"},o.a.createElement("input",{type:"button",onClick:this.submit.bind(this),value:"\u767b\u5f55"}))))))}}]),t}(o.a.Component)),ct=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"404")}}]),t}(o.a.Component),lt={position:"initial"},ut=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getInit()},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),a.props.getPage(a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,isShow:!0,page:1,height:document.documentElement.clientHeight,useBodyScroll:!1},a.changeState=a.changeState.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){this.props.getInit()}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isShow:!1,isLoading:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop,page:e.myArticlePage.next?++this.state.page:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{style:lt,mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6211\u7684\u6587\u7ae0"),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),e.list_pic?o.a.createElement("div",{className:"list-title"},o.a.createElement("div",{className:"list-title-left txt-cut"},e.title),o.a.createElement("div",{className:"list-title-right"},o.a.createElement("img",{src:e.list_pic,alt:""}))):o.a.createElement("div",{className:"list-title",style:{height:"auto"}},o.a.createElement("div",{className:"list-title-left txt-cut",style:{width:"100%"}},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},K(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/article/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached}))}}]),t}(o.a.Component),mt=Object(T.b)(function(e){return{list:e.my.myArticle,myArticlePage:e.my.myArticlePage}},function(e){return{getInit:function(){e(Fe(te()))},getPage:function(t){e(Me(t,te()))}}})(ut),ht={position:"initial"},pt=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getInit()},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),a.props.getPage(a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,isShow:!0,page:1,height:document.documentElement.clientHeight,useBodyScroll:!1},a.changeState=a.changeState.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){this.props.getInit()}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isShow:!1,isLoading:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop,page:e.myForumPage.next?++this.state.page:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{style:ht,mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6211\u7684\u5e16\u5b50"),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),o.a.createElement("div",{className:"list-title",style:{height:"auto"}},o.a.createElement("div",{className:"list-title-left txt-cut",style:{width:"100%"}},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},Q(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/forum/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached}))}}]),t}(s.Component),dt=Object(T.b)(function(e){return{list:e.my.myForum,myForumPage:e.my.myForumPage}},function(e){return{getInit:function(){e(He(te()))},getPage:function(t){e(Be(t,te()))}}})(pt),ft=JSON.parse(ae())?JSON.parse(ae()).id:"",gt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isShow:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getInit()}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({isShow:!1})}},{key:"add",value:function(e){var t=this,a={follow:e.fan.id,fan:e.follow.id};B(a,te()).then(function(e){de.a.success(e.data.message,1),t.props.getInit()})}},{key:"del",value:function(e){var t=this;if(te()){var a={id:e.fan.id,access:e.access,user_id:ft};Ne(e.id,ft,"fan",ft,te(),a).then(function(e){de.a.info(e.data.message,1),t.props.getInit()})}else this.props.history.push("/login/?next=/person/".concat(this.props.match.params.id))}},{key:"render",value:function(){var e=this,t=this.props.list;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6211\u7684\u7c89\u4e1d")),o.a.createElement("div",{className:"fan"},t.results?t.results.map(function(t){return o.a.createElement("div",{key:t.id,className:"fan-main"},o.a.createElement("div",null,o.a.createElement(f.b,{to:"/person/".concat(t.fan.id)},o.a.createElement("img",{src:t.fan.user_imag?t.fan.user_imag:t.fan.user_image?t.fan.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"fan-main-user"},t.fan.username),o.a.createElement("div",null,t.access?o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",onClick:function(){return e.del(t)}},"\u5df2\u5173\u6ce8"):o.a.createElement(ce.a,{type:"ghost",inline:!0,size:"small",onClick:function(){return e.add(t)}},"\u5173\u6ce8")))}):""))}}]),t}(s.Component),Et=Object(T.b)(function(e){return{list:e.my.myFan}},function(e){return{getInit:function(){e(We(te()))}}})(gt),yt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isShow:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getInit()}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({isShow:!1})}},{key:"del",value:function(e){var t=this;H(e,te()).then(function(e){204===e.status&&(de.a.success("\u53d6\u6d88\u5173\u6ce8\u6210\u529f",1),t.props.getInit())})}},{key:"render",value:function(){var e=this,t=this.props.list;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6211\u7684\u5173\u6ce8")),o.a.createElement("div",{className:"fan"},t.results?t.results.map(function(t){return o.a.createElement("div",{key:t.id,className:"fan-main"},o.a.createElement("div",null,o.a.createElement(f.b,{to:"/person/".concat(t.follow.id)},o.a.createElement("img",{src:t.follow.user_imag?t.follow.user_imag:t.follow.user_image?t.follow.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"fan-main-user"},t.follow.username),o.a.createElement("div",null,o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",onClick:function(){return e.del(t.id)}},"\u53d6\u6d88\u5173\u6ce8")))}):""))}}]),t}(s.Component),vt=Object(T.b)(function(e){return{list:e.my.myFollow}},function(e){return{getInit:function(){e(ze(te()))}}})(yt),wt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={type:!1,username:"",info:"",position:"",list_pic:""},a.change=a.change.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getInfo(),this.ImagePicker=this.ImagePicker.bind(this)}},{key:"componentWillReceiveProps",value:function(e,t){e.info&&(ee(e.info[0]),this.setState({username:e.info[0].username,info:e.info[0].info,position:e.info[0].position}))}},{key:"ImagePicker",value:function(e){var t=this,a=new FileReader;a.readAsDataURL(this.lv.files[0]),a.onload=function(e){t.img.src=e.target.result},this.setState({list_pic:this.lv.files[0]})}},{key:"submit",value:function(e){var t=this,a=new FormData;a.append("info",this.state.info),a.append("username",this.state.username),a.append("position",this.state.position),a.append("list_pic",this.state.list_pic),de.a.loading("loading",0),Oe(e.id,te(),a).then(function(e){de.a.hide(),"ok"==e.data.success?(ne(),ie(),de.a.success("\u4fee\u6539\u6210\u529f\uff0c\u91cd\u65b0\u767b\u5f55",1),t.props.history.push("/login")):de.a.success("\u4fee\u6539\u5931\u8d25",1)})}},{key:"change",value:function(e){"username"===e.target.name?this.setState({username:e.target.value}):"info"===e.target.name?this.setState({info:e.target.value}):"position"===e.target.name&&this.setState({position:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.info;return o.a.createElement(s.Fragment,null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()},rightContent:this.state.type?o.a.createElement("div",{onClick:function(){return e.submit(t[0])}},"\u63d0\u4ea4"):o.a.createElement("div",{onClick:function(){return e.setState({type:!0})}},"\u4fee\u6539")},"\u4e2a\u4eba\u4fe1\u606f"),o.a.createElement("ul",{className:"container info"},function(){if(t[0])return o.a.createElement(s.Fragment,null,o.a.createElement("li",{style:{position:"relative"}},"\u5934\u50cf ",e.state.type?o.a.createElement("input",{type:"file",onChange:function(){return e.ImagePicker(t[0])},ref:function(t){return e.lv=t},accept:"image/*"}):"",o.a.createElement("img",{ref:function(t){return e.img=t},src:t[0].user_imag?t[0].user_imag:t[0].user_image?t[0].user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("li",null,"\u6635\u79f0",e.state.type?o.a.createElement("input",{type:"text",name:"username",onChange:e.change,value:e.state.username}):o.a.createElement("span",null,t[0].username)),o.a.createElement("li",null,"\u804c\u4f4d",e.state.type?o.a.createElement("input",{type:"text",name:"position",onChange:e.change,value:e.state.position}):o.a.createElement("span",null,t[0].position)),o.a.createElement("li",null,"\u7b80\u4ecb ",e.state.type?o.a.createElement("textarea",{name:"info",maxLength:"100",style:{flex:"1",width:"100%",paddingLeft:"15px",height:"60px",border:"none"},onChange:e.change,value:e.state.info}):o.a.createElement("span",null,t[0].info)))}()))}}]),t}(o.a.Component),bt=Object(T.b)(function(e){return{info:e.my.info}},function(e){return{getInfo:function(){te()&&e(De(te()))}}})(wt),St=a(160),Ot=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={username:"",info:"",position:"",list_pic:""},a.change=a.change.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.location.state?this.setState({username:this.props.location.state.username,info:this.props.location.state.info,position:this.props.location.state.position}):this.props.history.goBack()}},{key:"componentWillReceiveProps",value:function(e,t){}},{key:"submit",value:function(e){var t=this;de.a.loading("loading",0),Oe(e.id,te(),this.state).then(function(e){de.a.hide(),200==e.status?(de.a.success("\u4fee\u6539\u6210\u529f",1),t.props.history.goBack()):de.a.success("\u4fee\u6539\u5931\u8d25",1)})}},{key:"change",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){var e=this;this.props.form.getFieldProps,this.props.location;return o.a.createElement(s.Fragment,null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()},rightContent:o.a.createElement("div",{onClick:function(){return e.submit(e.props.location.state)}},"\u4fdd\u5b58")},"\u8d44\u6599\u4fee\u6539"),o.a.createElement("div",{className:"infoupdate"},this.props.location.query,o.a.createElement("input",{type:"text",name:"username",placeholder:"\u8bf7\u8f93\u5165",value:this.state.username,onChange:this.change})))}}]),t}(o.a.Component),_t=Object(St.a)()(Ot),kt=Object(T.b)(function(e){return{}},function(e){return{}})(_t),Nt=(a(333),a(115)),jt=a.n(Nt),Ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).showModal=function(e){return function(t){t.preventDefault(),a.setState(Object(P.a)({},e,!0))}},a.onClose=function(e){return function(){a.setState(Object(P.a)({},e,!1))}},a.state={data:[],modal1:!1,message:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getList()}},{key:"getList",value:function(){var e,t=this;de.a.loading("\u52a0\u8f7d\u4e2d...",0),(e=te(),M.request({url:"/api/AppMessage/",headers:{Authorization:"JWT ".concat(e)},method:"get"})).then(function(e){de.a.hide(),console.log(e),200===e.status&&t.setState({data:e.data})})}},{key:"update",value:function(e){var t,a,n;e.has_read=!0,(t=te(),a=e,n=e.id,M.request({url:"/api/AppMessage/".concat(n,"/"),headers:{Authorization:"JWT ".concat(t)},data:a,method:"put"})).then(function(e){console.log(e),window.location.reload()})}},{key:"go",value:function(e){e.url?window.location.href=window.location.origin+"/#"+e.url:this.setState({modal1:!0,message:e.message})}},{key:"render",value:function(){var e=this,t=this.state.data;return o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6d88\u606f\u5217\u8868"),o.a.createElement(Qe.a,{style:{paddingTop:"45px"}},this.state.data?t.map(function(t,a){return console.log(t),1==t.has_read?o.a.createElement(jt.a,{key:t.id,style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"\u5220\u9664",onPress:function(){return e.del(t)},style:{backgroundColor:"#F4333C",color:"white"}}]},o.a.createElement(Qe.a.Item,{arrow:"horizontal",onClick:function(a){return e.go(t)}},t.message)):o.a.createElement(jt.a,{key:t.id,style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"\u5df2\u8bfb",onPress:function(){return e.update(t)},style:{backgroundColor:"#ddd",color:"white"}},{text:"\u5220\u9664",onPress:function(){return e.del(t)},style:{backgroundColor:"#F4333C",color:"white"}}]},o.a.createElement(Qe.a.Item,{arrow:"horizontal",onClick:function(a){return e.go(t)}},o.a.createElement("b",{className:"commenting",style:{display:"inline-block"}})," ",t.message))}):""),o.a.createElement($e.a,{visible:this.state.modal1,transparent:!0,maskClosable:!1,onClose:this.onClose("modal1"),title:"\u63d0\u793a",footer:[{text:"Ok",onPress:function(){console.log("ok"),e.onClose("modal1")()}}]},o.a.createElement("p",{id:"p",dangerouslySetInnerHTML:{__html:this.state.message}})))}}]),t}(o.a.Component),Lt=Object(T.b)()(Ct),xt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={type:!1,data:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInfo(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.setState({type:!1})}},{key:"getInfo",value:function(e){var t=this;_e(e).then(function(e){t.setState({type:!0,data:e.data})})}},{key:"componentWillReceiveProps",value:function(e,t){}},{key:"render",value:function(){return this.state.type?o.a.createElement(s.Fragment,null,o.a.createElement(it,{name:this.state.data.username,type:!1,image:this.state.data.user_imag?this.state.data.user_imag:this.state.data.user_image?this.state.data.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",id:this.state.data.id,history:this.props.history})):o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d"})))}}]),t}(o.a.Component),Tt=Object(T.b)(function(e){return{}},function(e){return{}})(xt),Pt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={type:!0,info:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInfo(this.props.match.params.id)}},{key:"getInfo",value:function(e){var t=this;_e(e).then(function(e){t.setState({type:!1,info:e.data})})}},{key:"render",value:function(){var e=this,t=this.state.info;return o.a.createElement(s.Fragment,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.type}),o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u4e2a\u4eba\u4fe1\u606f"),o.a.createElement("ul",{className:"container info"},function(){if(t)return o.a.createElement(s.Fragment,null,o.a.createElement("li",{style:{position:"relative"}},"\u5934\u50cf ",e.state.type?o.a.createElement("input",{type:"file",onChange:function(){return e.ImagePicker(t[0])},ref:function(t){return e.lv=t},accept:"image/*"}):"",o.a.createElement("img",{ref:function(t){return e.img=t},src:t.user_imag?t.user_imag:t.user_image?t.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("li",null,"\u6635\u79f0",o.a.createElement("span",null,t.username)),o.a.createElement("li",null,"\u804c\u4f4d",o.a.createElement("span",null,t.position)),o.a.createElement("li",null,"\u7b80\u4ecb  ",o.a.createElement("span",null,t.info)))}()))}}]),t}(o.a.Component),At=Object(T.b)(function(e){return{}},function(e){return{}})(Pt),Rt={position:"initial"},It=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getInit(a.props.match.params.id)},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),a.props.getPage(a.props.match.params.id,a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,isShow:!0,page:1,height:document.documentElement.clientHeight,useBodyScroll:!1},a.changeState=a.changeState.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){this.props.getInit(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isShow:!1,isLoading:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop,page:e.myArticlePage.next?++this.state.page:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{style:Rt,mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6587\u7ae0"),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),e.list_pic?o.a.createElement("div",{className:"list-title"},o.a.createElement("div",{className:"list-title-left txt-cut"},e.title),o.a.createElement("div",{className:"list-title-right"},o.a.createElement("img",{src:e.list_pic,alt:""}))):o.a.createElement("div",{className:"list-title",style:{height:"auto"}},o.a.createElement("div",{className:"list-title-left txt-cut",style:{width:"100%"}},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},K(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/article/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached}))}}]),t}(o.a.Component),qt=Object(T.b)(function(e){return{list:e.my.otherArticle,myArticlePage:e.my.otherArticlePage}},function(e){return{getInit:function(t){e(Ue(t))},getPage:function(t,a){e(Ge(t,a))}}})(It),Dt={position:"initial"},Ft=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getInit(a.props.match.params.id)},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),a.props.getPage(a.props.match.params.id,a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,isShow:!0,page:1,height:document.documentElement.clientHeight,useBodyScroll:!1},a.changeState=a.changeState.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){this.props.getInit(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isShow:!1,isLoading:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop,page:e.myForumPage.next?++this.state.page:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{style:Dt,mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u6211\u7684\u5e16\u5b50"),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),o.a.createElement("div",{className:"list-title",style:{height:"auto"}},o.a.createElement("div",{className:"list-title-left txt-cut",style:{width:"100%"}},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},Q(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/article/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached}))}}]),t}(s.Component),Mt=Object(T.b)(function(e){return{list:e.my.otherForum,myForumPage:e.my.otherForumPage}},function(e){return{getInit:function(t){e(Ye(t))},getPage:function(t,a){e(Ve(t,a))}}})(Ft),Ht=JSON.parse(ae())?JSON.parse(ae()).id:"",Bt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isShow:!0,list:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInit()}},{key:"componentWillUnmount",value:function(){this.setState({isShow:!0,list:null})}},{key:"getInit",value:function(){var e=this;ke(this.props.match.params.id,Ht).then(function(t){e.setState({isShow:!1,list:t.data})})}},{key:"del",value:function(e){var t=this;if(te()){var a={id:e.fan.id,access:e.access,user_id:Ht};Ne(e.id,this.props.match.params.id,"fan",Ht,te(),a).then(function(e){de.a.info(e.data.message,1),t.getInit()})}else this.props.history.push("/login/?next=/person/".concat(this.props.match.params.id))}},{key:"add",value:function(e){var t=this;if(te()){var a={follow:e.fan.id,fan:Ht};B(a,te()).then(function(e){de.a.success(e.data.message,1),t.getInit()})}else this.props.history.push("/login/?next=/person/".concat(this.props.match.params.id))}},{key:"render",value:function(){var e=this,t=this.state.list;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u7c89\u4e1d")),o.a.createElement("div",{className:"fan"},t?t.map(function(t){return o.a.createElement("div",{key:t.id,className:"fan-main"},o.a.createElement("div",null,ae()?o.a.createElement(f.b,{to:JSON.parse(ae()).id===t.fan.id?"/person/":"/person/".concat(t.fan.id)},o.a.createElement("img",{src:t.fan.user_imag?t.fan.user_imag:t.fan.user_image?t.fan.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})):o.a.createElement(f.b,{to:"/person/".concat(t.fan.id)},o.a.createElement("img",{src:t.fan.user_imag?t.fan.user_imag:t.fan.user_image?t.fan.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"fan-main-user"},t.fan.username),o.a.createElement("div",null,t.access?o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",onClick:function(){return e.del(t)}},"\u5df2\u5173\u6ce8"):o.a.createElement(ce.a,{type:"ghost",inline:!0,size:"small",onClick:function(){return e.add(t)}},"\u5173\u6ce8")))}):""))}}]),t}(s.Component),Wt=Object(T.b)(function(e){return{}},function(e){return{}})(Bt),zt=JSON.parse(ae())?JSON.parse(ae()).id:"",Jt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isShow:!0,list:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInit()}},{key:"componentWillUnmount",value:function(){this.setState({isShow:!0,list:null})}},{key:"getInit",value:function(){var e,t,a=this;(e=this.props.match.params.id,t=zt,M.request({url:"/api/UserFollowOther/?follow=".concat(e,"&user_id=").concat(t),method:"get"})).then(function(e){a.setState({isShow:!1,list:e.data})})}},{key:"del",value:function(e){var t=this;if(te()){var a={id:e.follow.id,access:e.access,user_id:zt};console.log(a),Ne(e.id,this.props.match.params.id,"follow",zt,te(),a).then(function(e){de.a.info(e.data.message,1),t.getInit()})}else this.props.history.push("/login/?next=/person/".concat(this.props.match.params.id))}},{key:"add",value:function(e){var t=this;if(te()){var a={follow:e.follow.id,fan:zt};B(a,te()).then(function(e){console.log(e),de.a.success(e.data.message,1),t.getInit()})}else this.props.history.push("/login/?next=/person/".concat(this.props.match.params.id))}},{key:"render",value:function(){var e=this,t=this.state.list;return o.a.createElement(s.Fragment,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement("div",null,o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u5173\u6ce8")),o.a.createElement("div",{className:"fan"},t?t.map(function(t){return o.a.createElement("div",{key:t.id,className:"fan-main"},o.a.createElement("div",null,ae()?o.a.createElement(f.b,{to:JSON.parse(ae()).id===t.follow.id?"/person/":"/person/".concat(t.follow.id)},o.a.createElement("img",{src:t.follow.user_imag?t.follow.user_imag:t.follow.user_image?t.follow.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})):o.a.createElement(f.b,{to:"/person/".concat(t.fan.id)},o.a.createElement("img",{src:t.follow.user_imag?t.follow.user_imag:t.follow.user_image?t.follow.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"fan-main-user"},t.follow.username),o.a.createElement("div",null,t.access?o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",onClick:function(){return e.del(t)}},"\u5df2\u5173\u6ce8"):o.a.createElement(ce.a,{type:"ghost",inline:!0,size:"small",onClick:function(){return e.add(t)}},"\u5173\u6ce8")))}):""))}}]),t}(s.Component),Ut=Object(T.b)(function(e){return{}},function(e){return{}})(Jt),Gt="forum/DEL";function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xt={forumList:[],list:[],detail:[]},$t=function(e){return{type:"forum/LIST",data:e}},Kt=function(e){return{type:"forum/LIST_PAGE",data:e}},Qt=function(){return function(e){M.request({url:"/api/ForumListView/",method:"get"}).then(function(t){e($t(t.data))})}},Zt=function(e){return function(t){(function(e){return M.request({url:"/api/ForumListView/?page="+e,method:"get"})})(e).then(function(e){t(Kt(e.data))})}},ea=function(e){return{type:"forum/LIST_SEARCH",data:e}},ta=function(e){return{type:"forum/LIST_SEARCH_PAGE",data:e}},aa=function(e,t,a,n){return function(i){(function(e,t,a){return M.request({url:a?"api/ForumListView/?title=".concat(e,"&page=").concat(t):"/api/ForumListView/?category=".concat(e,"&page=").concat(t),method:"get"})})(e,t,n).then(function(e){i(a?ta(e.data):ea(e.data))})}},na=function(e){return{type:"forum/DETSILE",data:e}},ia=function(e){return function(t){(function(e){return M.request({url:"/api/ForumListView/".concat(e),method:"get"})})(e).then(function(e){t(na(e.data))})}},ra=function(){return{type:Gt}},sa=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onRefresh=function(){a.setState({refreshing:!0,isLoading:!0,page:1}),a.props.getHomeList()},a.onEndReached=function(){a.state.page&&(a.setState({refreshing:!0,isLoading:!0}),window.sessionStorage.getItem("forumserach")?a.props.getSerach(window.sessionStorage.getItem("forumserach"),a.state.page,!0):window.sessionStorage.getItem("forumserachs")?a.props.getSerach(window.sessionStorage.getItem("forumserach"),a.state.page,!0,!0):a.props.getHomePage(a.state.page))};var n=new L.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n,refreshing:!0,isLoading:!0,page:1,categrty:null,height:document.documentElement.clientHeight,useBodyScroll:!1,search:!0},a.changeState=a.changeState.bind(Object(x.a)(a)),a.submit=a.submit.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(e){var t=this.state.height-l.a.findDOMNode(this.lv).offsetTop;this.setState({height:t,dataSource:this.state.dataSource.cloneWithRows(e)})}},{key:"componentDidMount",value:function(){var e=this;this.props.getHomeList(),M.request({url:"/api/forum/category/",method:"get"}).then(function(t){e.setState({categrty:t.data})}),window.sessionStorage.clear()}},{key:"componentWillReceiveProps",value:function(e,t){this.changeState(e.list),this.setState({refreshing:!1,isLoading:!1,search:!1,height:document.documentElement.clientHeight-l.a.findDOMNode(this.lv).offsetTop-50,page:e.page.next?++this.state.page:""})}},{key:"serach",value:function(e){window.sessionStorage.clear(),this.setState({search:!0,page:1}),window.sessionStorage.setItem("forumserach",e),this.props.getSerach(e,1),document.getElementsByClassName("am-list-view-scrollview")[0].scrollTop=0}},{key:"submit",value:function(e){window.sessionStorage.clear(),this.setState({search:!0,page:1}),window.sessionStorage.setItem("forumserachs",e),this.props.getSerach(e,1,"",!0),document.getElementsByClassName("am-list-view-scrollview")[0].scrollTop=0}},{key:"render",value:function(){var e=this;return o.a.createElement(s.Fragment,null,o.a.createElement("div",null,o.a.createElement(O.a,{placeholder:"Search",onSubmit:this.submit}),o.a.createElement("div",{className:"nav"},o.a.createElement("div",null,this.state.categrty?this.state.categrty.map(function(t,a){return o.a.createElement("span",{key:t.id,onClick:function(){return e.serach(t.id)}},t.name)}):"")),o.a.createElement(L.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,a){return o.a.createElement(f.a,null,o.a.createElement("div",{className:"list"},o.a.createElement("div",null,o.a.createElement("div",{className:"list-header"},o.a.createElement("div",{className:"list-header-left one-txt-cut"},ae()?o.a.createElement(f.b,{to:JSON.parse(ae()).id===e.authors.id?"/person/":"/person/".concat(e.authors.id)},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username):o.a.createElement(f.b,{to:"/person/".concat(e.authors.id)},o.a.createElement("img",{src:e.authors.user_imag?e.authors.user_imag:e.authors.user_image,alt:""}),e.authors.username)),o.a.createElement("div",{className:"list-header-right"},o.a.createElement("span",null,e.category.name))),o.a.createElement("div",{className:"list-title list-title-active"},o.a.createElement("div",{className:"list-title-left txt-cut list-main"},e.title)),o.a.createElement("div",{className:"list-desc"},e.desc),o.a.createElement("div",{className:"list-footer"},o.a.createElement("div",{className:"list-footer-left"},o.a.createElement("span",{className:"click"},e.click_nums),o.a.createElement("span",{className:"comment"},Q(e))),o.a.createElement("div",{className:"list-footer-right"},o.a.createElement(f.c,{to:{pathname:"/forum/detail/".concat(e.id)}},"\u9605\u8bfb\u5168\u6587\u2192"))))))},useBodyScroll:this.state.useBodyScroll,style:{height:this.state.height},renderFooter:function(){return o.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86")},pullToRefresh:o.a.createElement(b.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached})))}}]),t}(s.Component),oa=Object(T.b)(function(e){return{page:e.forum.forumList,list:e.forum.list}},function(e){return{getHomeList:function(){e(r.getListActionAxios())},getHomePage:function(t){e(r.getListActionPageAxios(t))},getSerach:function(t,a,n,i){e(r.getSerachAxios(t,a,n,i))}}})(sa),ca=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).getContent=function(){return a.props.list.forum.detail.content},a.show=function(){a.setState({_visite:!a.state._visite})},a.state={isShow:!0,_visite:!1,model:!1,comm:null,vue:"",type:!1,rep:null,user:!1,follows:!1,follows_id:null},a.Change=a.Change.bind(Object(x.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.init(e)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;console.log(e.list),document.title="\u8bba\u575b-".concat(e.list.forum.detail.title),document.getElementById("desc").setAttribute("content",e.list.forum.detail.desc),document.getElementById("keywords").setAttribute("content",e.list.forum.detail.keywords),window.sessionStorage.setItem("k",e.list.forum.detail.content),te()&&JSON.parse(ae()).id===e.list.forum.detail.authors.id&&this.setState({user:!0}),ke(e.list.forum.detail.authors.id,ae()?JSON.parse(ae()).id:"").then(function(e){if(a.setState({isShow:!1}),ae()&&e.data.length>0)for(var t in e.data)e.data[t].fan.id===JSON.parse(ae()).id&&a.setState({follows:!0,follows_id:e.data[t].id})})}},{key:"del",value:function(){var e=this;te()||this.props.history.push("/login/?next=/forum/detail/".concat(this.props.match.params.id)),H(this.state.follows_id,te()).then(function(t){204===t.status&&(de.a.success("\u53d6\u6d88\u5173\u6ce8\u6210\u529f",1),e.setState({follows:!1}))})}},{key:"add",value:function(e){var t=this;te()||this.props.history.push("/login/?next=/forum/detail/".concat(this.props.match.params.id));var a={follow:e.id,fan:JSON.parse(ae()).id};B(a,te()).then(function(e){t.props.init(t.props.match.params.id),de.a.success(e.data.message,1)})}},{key:"componentWillUnmount",value:function(){this.props.Unmount()}},{key:"setModel",value:function(e){te()?this.setState({model:!0,comm:e}):this.props.history.push("/login/?next=/forum/detail/".concat(this.props.match.params.id))}},{key:"Change",value:function(e){this.setState({vue:e.target.value})}},{key:"sub",value:function(e){var t=this;if(e.preventDefault(),te()){if(0==this.state.vue.trim().length)return;var a={};a.forums="".concat(this.props.match.params.id),a.comments=this.state.vue,a.user=JSON.parse(ae()).id,a.url="/forum/detail/".concat(this.props.match.params.id),a.cip=window.returnCitySN.cip,a.address=window.returnCitySN.cname,function(e,t){return M.request({url:"/api/CommentView/",data:t,headers:{Authorization:"JWT ".concat(e)},method:"post"})}(te(),a).then(function(e){de.a.success("\u8bc4\u8bba\u6210\u529f",1),t.props.init(t.props.match.params.id),t.setState({vue:"",rep:null})}).catch(function(e){console.log(e.response)})}else de.a.fail("\u672a\u767b\u5f55",1)}},{key:"reple",value:function(e){var t=this;te()||this.props.history.push("/login/?next=/forum/detail/".concat(this.props.match.params.id)),this.setState({type:!0,rep:e},function(){t.textInput.focus()})}},{key:"subRep",value:function(e){var t=this;if(e.preventDefault(),te()){if(0==this.state.vue.trim().length)return;var a={};a.comments=this.state.vue,a.user=JSON.parse(ae()).id,a.url="/forum/detail/".concat(this.props.match.params.id),a.cip=window.returnCitySN.cip,a.address=window.returnCitySN.cname,a.to_Parent_Comments=this.state.rep.user.id,a.forums=this.state.rep.forums,a.parent_comments=this.state.rep.parent_comments,function(e,t){return M.request({url:"/api/Parent_CommentView/",data:e,headers:{Authorization:"JWT ".concat(t)},method:"post"})}(a,te()).then(function(e){console.log(e),t.props.init(t.props.match.params.id),t.setState({vue:"",rep:null,model:!1}),de.a.success("\u56de\u590d\u6210\u529f",1)})}else de.a.fail("\u672a\u767b\u5f55",1)}},{key:"render",value:function(){var e=this,t=this.props.list.forum.detail;return o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d",animating:this.state.isShow})),o.a.createElement(ue.a,{mode:"dark",icon:o.a.createElement(he.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()},rightContent:o.a.createElement(he.a,{key:"1",type:"ellipsis",onClick:this.show})},"\u8bba\u575b"),this.state.isShow?"":o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"detail-header"},o.a.createElement("div",{className:"detaile-header-img"},this.state.user?o.a.createElement(f.b,{to:"/person/"},o.a.createElement("img",{src:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,alt:""})):o.a.createElement(f.b,{to:"/person/".concat(t.authors.id)},o.a.createElement("img",{src:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,alt:""})),o.a.createElement("div",{className:"detaile-header-info"},o.a.createElement("h4",null,t.authors.username),o.a.createElement("span",null,Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),"\u53d1\u5e03"),o.a.createElement("span",{className:"click"},"\u9605\u8bfb ",t.click_nums)),this.state.follows?o.a.createElement(ce.a,{type:"primary",inline:!0,size:"small",style:{marginRight:"4px"},onClick:function(){return e.del()}},"\u5df2\u5173\u6ce8"):o.a.createElement(ce.a,{type:"ghost",inline:!0,size:"small",style:{marginRight:"4px"},onClick:function(){return e.add(t.authors)}},"\u5173\u6ce8")),o.a.createElement("h1",null,t.title)),o.a.createElement(be.a.EditorShow,{config:{markdown:this.getContent()}}),o.a.createElement("div",{className:"commit"},o.a.createElement("p",{className:"commit-p"}),o.a.createElement("div",{className:"commit-main"},t.comment_set.map(function(t,a){return o.a.createElement("div",{key:a,className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement(f.b,{to:"/person/".concat(t.user.id)},o.a.createElement("img",{src:t.user.user_imag?t.user.user_imag:t.user.user_image?t.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""}))),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,t.user.username),o.a.createElement("p",null,t.comments),o.a.createElement("p",null,Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.setModel(t)},className:t.parent_comment_set.length>0?"active":""},t.parent_comment_set.length>0?t.parent_comment_set.length:"","\u56de\u590d"))))}))),o.a.createElement("div",{className:"footer"},te()?o.a.createElement("form",{action:"",onSubmit:function(t){return e.sub(t)}},o.a.createElement("input",{type:"text",value:this.state.vue,onChange:this.Change,placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427"})):o.a.createElement(f.b,{to:"/login/?next=/forum/detail/".concat(this.props.match.params.id)},"\u767b\u5f55\u540e\u53ef\u8bc4\u8bba")),o.a.createElement("div",{id:"model",onClick:function(){return e.setState({_visite:!1})},className:this.state._visite?"animated-fade-in":"animated-fade-out"},o.a.createElement("div",{className:"model-main",onClick:function(e){e.stopPropagation()}},o.a.createElement(Te,{className:this.state._visite?"animated-slide-in-up":"animated-slide-out-down",title:document.title,url:window.location.href,image:t.authors.user_imag?t.authors.user_imag:t.authors.user_image,description:document.getElementById("desc").getAttribute("content"),origin:window.location.href,sites:["weibo","qq","wechat","douban","qzone"]}),o.a.createElement("p",{className:"close",onClick:function(){return e.setState({_visite:!1})}},"\u53d6\u6d88"))),this.state.model?o.a.createElement("div",{className:this.state.model?" model animated-fade-in":"animated-fade-out"},o.a.createElement(ue.a,{icon:o.a.createElement(he.a,{type:"down"}),onLeftClick:function(){return e.setState({model:!1})}},"\u56de\u590d"),o.a.createElement("div",{className:"commit",style:{marginTop:50}},o.a.createElement("div",{className:"commit-main"},o.a.createElement("div",{className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement("img",{src:this.state.comm.user.user_imag?this.state.comm.user.user_imag:this.state.comm.user.user_image?this.state.comm.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,this.state.comm.user.username),o.a.createElement("p",null,this.state.comm.comments),o.a.createElement("p",{className:"timer"},Pe(new Date(this.state.comm.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.reple(e.state.comm)}},"\u56de\u590d")))),this.state.comm.parent_comment_set.map(function(t,a){return o.a.createElement("div",{key:a,className:"commit-body"},o.a.createElement("div",{className:"commit-body-img"},o.a.createElement("img",{src:t.user.user_imag?t.user.user_imag:t.user.user_image?t.user.user_image:"https://www.fengjinqi.com/static/img/pc-icon.png",alt:""})),o.a.createElement("div",{className:"commit-body-text"},o.a.createElement("h4",null,t.user.username),o.a.createElement("p",null,"\u56de\u590d ",o.a.createElement("span",{className:"user"},t.to_Parent_Comments.username)," ",t.comments),o.a.createElement("p",{className:"timer"},Pe(new Date(t.add_time.replace(/-/g,"/")).getTime()),o.a.createElement("span",{onClick:function(){return e.reple(t)}},"\u56de\u590d"))))}))),this.state.type?o.a.createElement("form",{action:"",className:"footer",onSubmit:function(t){return e.subRep(t)}},o.a.createElement("input",{type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427",value:this.state.vue,onChange:this.Change,onBlur:function(){return e.setState({type:!1,vue:"",rep:null})},ref:function(t){e.textInput=t}})):""):null))}}]),t}(o.a.Component),la=Object(T.b)(function(e){return{list:e}},function(e){return{init:function(t){e(r.getgetDetailePageAxios(t))},Unmount:function(){e(r.ArticleDel())}}})(ca),ua=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement(v,null,o.a.createElement(g.c,null,o.a.createElement(g.a,{path:"/login/",exact:!0,component:ot}),o.a.createElement(g.a,{path:"/",exact:!0,component:se}),o.a.createElement(g.a,{path:"/article/detail/:id",exact:!0,component:Re}),o.a.createElement(g.a,{path:"/person/",exact:!0,component:st}),o.a.createElement(g.a,{path:"/person/article",exact:!0,component:mt}),o.a.createElement(g.a,{path:"/person/forum",exact:!0,component:dt}),o.a.createElement(g.a,{path:"/person/myFan",exact:!0,component:Et}),o.a.createElement(g.a,{path:"/person/myFollows",exact:!0,component:vt}),o.a.createElement(g.a,{path:"/person/info",exact:!0,component:bt}),o.a.createElement(g.a,{path:"/person/update",component:kt}),o.a.createElement(g.a,{path:"/person/message",component:Lt}),o.a.createElement(g.a,{path:"/person/:id",exact:!0,component:Tt}),o.a.createElement(g.a,{path:"/person/info/:id",exact:!0,component:At}),o.a.createElement(g.a,{path:"/person/article/:id",exact:!0,component:qt}),o.a.createElement(g.a,{path:"/person/forum/:id",exact:!0,component:Mt}),o.a.createElement(g.a,{path:"/person/fan/:id",exact:!0,component:Wt}),o.a.createElement(g.a,{path:"/person/follows/:id",exact:!0,component:Ut}),o.a.createElement(g.a,{path:"/forum/",exact:!0,component:oa}),o.a.createElement(g.a,{path:"/forum/detail/:id",exact:!0,component:la}),o.a.createElement(g.a,{component:ct}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ma=a(50);function ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ha(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ha(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var da={info:[],myArticle:[],myArticlePage:[],myForum:[],myForumPage:[],myFan:[],myFollow:[],myMessageType:[],otherArticle:[],otherArticlePage:[],otherForum:[],otherForumPage:[]},fa=Object(ma.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"home/HOME_GET_LIST":return R({},e,{articleList:t.data,list:t.data.results,isShow:!1});case"home/HOME_GET_PAGING":return R({},e,{articleList:t.data,list:e.list.concat(t.data.results)});case"home/HOME_GET_ARTICLE_SEARCH":return R({},e,{articleList:t.data,list:t.data.results});case"home/HOME_GET_ARTICLE_SEARCH_PAGE":return console.log(t),R({},e,{articleList:t.data,list:e.list.concat(t.data.results)});default:return e}},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/article/ARTILCE_DETAIL":return ge({},e,{list:t.data});case"/article/ARTILCE_DEL":return ge({},e,{list:[]});default:return e}},my:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/my/MY_GETINFO":return pa({},e,{info:t.data});case"/my/MY_ARTICLE_LIST":return pa({},e,{myArticle:t.data.results,myArticlePage:t.data});case"/my/MY_ARTICLE_LIST_PAGE":return pa({},e,{myArticlePage:t.data,myArticle:e.myArticle.concat(t.data.results)});case"/my/MY_FORUM_LIST":return pa({},e,{myForum:t.data.results,myForumPage:t.data});case"/my/MY_FORUM_LIST_PAGE":return pa({},e,{myForum:e.myForum.concat(t.data.results),myForumPage:t.data});case"/my/MY_FAN":return pa({},e,{myFan:t.data});case"/my/MY_FOLLOW":return pa({},e,{myFollow:t.data});case"/my/MY_GETMESSAGECOUNT":return pa({},e,{myMessageType:t.data});case"/my/OTHERS/OTHERARTICLE":return pa({},e,{otherArticle:t.data.results,otherArticlePage:t.data});case"/my/OTHERS/OTHERARTICLE_PAGE":return pa({},e,{otherArticlePage:t.data,otherArticle:e.otherArticle.concat(t.data.results)});case Ie:return pa({},e,{otherForum:t.data.results,otherForumPage:t.data});case"/my/OTHERS/OTHERFORUM_PAGE":return pa({},e,{otherForum:e.otherForum.concat(t.data.results),otherForumPage:t.data});default:return e}},forum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"forum/LIST":return Vt({},e,{forumList:t.data,list:t.data.results});case"forum/LIST_PAGE":return Vt({},e,{forumList:t.data,list:e.list.concat(t.data.results)});case"forum/LIST_SEARCH":return Vt({},e,{forumList:t.data,list:t.data.results});case"forum/LIST_SEARCH_PAGE":return Vt({},e,{forumList:t.data,list:e.list.concat(t.data.results)});case"forum/DETSILE":return Vt({},e,{detail:t.data});case Gt:return Vt({},e,{detail:[]});default:return e}}}),ga=a(159),Ea=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ma.d,ya=Object(ma.e)(fa,Ea(Object(ma.a)(ga.a))),va=o.a.createElement(T.a,{store:ya},o.a.createElement(ua,null));l.a.render(va,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,1,2]]]);
//# sourceMappingURL=main.d3f1e0ee.chunk.js.map