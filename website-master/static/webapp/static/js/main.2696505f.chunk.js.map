{"version":3,"sources":["App.js","pages/home/store/reducer.js","utils/api.request.js","utils/axios.js","api/article.js","pages/home/store/actionCreators.js","pages/home/store/actionTypes.js","api/home.js","utils/utils.js","pages/home/index.js","pages/article/store/reducer.js","pages/article/store/actionCreator.js","pages/article/store/actionTypes.js","api/user.js","components/Share.js","utils/time.js","pages/article/detail.js","pages/my/store/actionTypes.js","pages/my/store/actionCreator.js","api/forum.js","components/LoginMain.js","pages/my/index.js","pages/login/index.js","components/NotFound.js","pages/my/myArticle.js","pages/my/myForum.js","pages/my/myFan.js","pages/my/myFollows.js","pages/my/myInfo.js","pages/my/myInfoDe.js","pages/my/myMessageList.js","pages/my/othersIndex.js","pages/my/others/OthersInfo.js","pages/my/others/OthersArticles.js","pages/my/others/OthersForum.js","pages/my/others/OthersFan.js","pages/my/others/OthersFollows.js","pages/forum/store/actionTypes.js","pages/forum/store/reducer.js","pages/forum/store/actionCreators.js","pages/forum/index.js","pages/forum/detail.js","router.js","serviceWorker.js","pages/my/store/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["footer","display","width","height","justifyContent","position","bottom","alignItems","background","fontSize","App","props","this","location","pathname","className","children","style","to","exact","activeStyle","fontWeight","color","React","Component","withRouter","defaultState","articleList","list","isShow","axios","baseUrl","queue","baseURL","headers","url","Object","keys","length","instance","interceptors","request","use","config","error","Promise","reject","response","res","destroy","data","status","errorInfo","JSON","parse","stringify","statusText","message","responseURL","info","type","code","mes","console","log","addErrorLog","options","create","assign","getInsideConfig","delMyFan","id","token","method","addMyFan","getHomeAction","getHomePageAction","getHome","dispatch","then","getHomePage","page","getHomeListPage","getSerach","getSerachPage","getSerachAxios","name","n","getArticleSaerch","getCommentCount","item","count","article_comment_set","map","el","articlecommentreply_set","getForumCommentCount","comment_set","parent_comment_set","getQueryString","paramer","urlParamArry","window","href","split","indexOf","i","paramerName","setUser","Cookies","set","expires","getToken","get","getUser","delToken","remove","delUser","Home","onRefresh","setState","refreshing","isLoading","getHomeList","onEndReached","state","sessionStorage","getItem","dataSource","DataSource","rowHasChanged","row1","row2","categrty","document","documentElement","clientHeight","useBodyScroll","search","changeState","bind","submit","hei","ReactDOM","findDOMNode","lv","offsetTop","cloneWithRows","clear","nextProps","nextContext","next","e","setItem","getElementsByClassName","scrollTop","toast","text","animating","placeholder","onSubmit","index","key","onClick","serach","ref","renderRow","rowData","sectionID","rowID","authors","src","user_imag","user_image","alt","username","category","list_pic","title","desc","click_nums","renderFooter","padding","textAlign","pullToRefresh","connect","home","actionCreators","getArticleDetail","ArticleDel","getArticleDetailAxios","getArticle","getInfo","putInfoImg","getOhtersInfo","getOhtersFan","user_id","delOhtersFollows","follow","defaultProps","Share","sites","wechatQrcodeTitle","wechatQrcodeHelper","description","image","site","origin","summary","source","templates","qzone","qq","tencent","weibo","wechat","douban","diandian","linkedin","facebook","twitter","google","doc","value","size","target","row","dateDiff","timestamp","arrTimestamp","start","join","diffValue","Date","getTime","monthC","day","weekC","dayC","hour","hourC","minute","minC","zero","date","getFullYear","getMonth","getDate","parseInt","ArticleDetail","getContent","article","content","show","_visite","model","comm","vue","rep","user","follows","follows_id","Change","match","params","init","getElementById","setAttribute","keywords","fan","history","push","success","Unmount","preventDefault","trim","comments","cip","returnCitySN","address","addCommt","catch","err","fail","textInput","focus","to_uids","aomments_id","addCommtRep","mode","icon","onLeftClick","goBack","rightContent","add_time","replace","inline","marginRight","del","add","EditorShow","markdown","setModel","action","sub","onChange","stopPropagation","getAttribute","marginTop","reple","subRep","onBlur","input","OTHERFORUM","getMyInfo","getMyInfoAxios","getMyArticleListAxios","getMyArticle","getMyArticleListPageAxios","getMyArticleListPage","getMyForumListAxios","getMyForum","getMyForumListPageAxios","getMyForumListPage","getFanAxios","toekn","getFollowAxios","getMessageCountAxios","getMessage","getOthersArticleListAxios","otherArticles","getOthersArticleListPageAxios","otherArticlesPage","getOthersForumListAxios","othersForum","getOthersForumListPagesAxios","othersForumPage","Item","alert","LoginMain","arrow","thumb","onPress","itemLogOut","propsTypes","PropTypes","string","func","bool","Person","logout","detail","myMessageType","my","Login","password","userrError","passError","getJwt","regex","test","userError","required","NotFound","MyArticles","getInit","getPage","myArticlePage","myArticle","MyForum","myForumPage","myForum","access","results","myFan","MyFollows","myFollow","Info","change","ImagePicker","reads","FileReader","readAsDataURL","files","onload","img","result","form","FormData","append","loading","hide","accept","maxLength","flex","paddingLeft","border","InfoUpdate","getFieldProps","query","BasicInputExampleWrapper","createForm","myMessageList","showModal","onClose","modal1","getList","has_read","reload","paddingTop","backgroundColor","autoClose","right","go","update","visible","transparent","maskClosable","dangerouslySetInnerHTML","__html","OthersPerson","OthersInfo","OthersArticles","otherArticle","otherArticlePage","OthersForum","otherForum","otherForumPage","OthersFan","OthersFollows","DEL","forumList","getListAction","getListActionPage","getListActionAxios","getListActionPageAxios","ForumListPage","ForumListSearch","getDetaile","getgetDetailePageAxios","ForumDetail","actionTypes","Index","forum","forums","ForumComment","to_Parent_Comments","parent_comments","ForumCommentRep","Router","path","component","myFollows","Forum","Boolean","hostname","reducer","combineReducers","concat","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Main","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2696505f.chunk.js","sourcesContent":["import React from 'react';\r\nimport {withRouter,NavLink} from 'react-router-dom'\r\nimport './static/css/comm.less';\r\n\r\n\r\n/*function App() {\r\n  return (\r\n    <div className=\"App\">\r\n        <Home/>\r\n        {console.log(this)}\r\n\r\n    </div>\r\n  );\r\n}*/\r\n\r\n\r\nconst footer ={\r\n    display:'flex',\r\n    width:'100%',\r\n    height:'50px',\r\n    justifyContent: 'space-around',\r\n    position:'fixed',\r\n    bottom:'0',\r\n    alignItems: 'center',\r\n    background:'#fff',\r\n    fontSize:'16px'\r\n}\r\nconst meun=(props)=>{\r\n    if(props.location.pathname==='/'||props.location.pathname==='/person/'||props.location.pathname==='/person'||props.location.pathname==='/forum/'){\r\n        return (\r\n            <div className=\"App\">\r\n                {/*            <Home/>*/}\r\n                {props.children}\r\n                <div style={footer}>\r\n                    <NavLink to='/' exact  activeStyle={{ fontWeight: \"bold\",  color: \"#356dd0\" }}>文章</NavLink>\r\n                    <NavLink to='/forum/' exact  activeStyle={{ fontWeight: \"bold\",  color: \"#356dd0\" }}>论坛</NavLink>\r\n                    <NavLink to='/person/' exact   activeStyle={{ fontWeight: \"bold\",  color: \"#356dd0\" }}>我的</NavLink>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else{\r\n        return (\r\n            <div className=\"App\">\r\n                {/*            <Home/>*/}\r\n                {props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nclass App extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <div>{meun(this.props)}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(App);\r\n","\r\nimport * as actionTypes from './actionTypes';\r\n\r\nconst defaultState ={\r\n\tarticleList: [],\r\n    list:[],\r\n\tisShow:true\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase actionTypes.HOME_GET_LIST:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tarticleList: action.data,\r\n                list:action.data.results,\r\n\t\t\t\tisShow: false\r\n\t\t\t}\r\n        case actionTypes.HOME_GET_PAGING:\r\n            return {\r\n                ...state,\r\n                articleList: action.data,\r\n                list:state.list.concat(action.data.results)\r\n            }\r\n\t\tcase actionTypes.HOME_GET_ARTICLE_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tarticleList: action.data,\r\n\t\t\t\tlist:action.data.results,\r\n\r\n\t\t\t}\r\n\t\tcase actionTypes.HOME_GET_ARTICLE_SEARCH_PAGE:\r\n\t\t\tconsole.log(action)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tarticleList: action.data,\r\n\t\t\t\tlist:state.list.concat(action.data.results)\r\n\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import HttpRequest from './axios'\r\nconst baseUrl = ''\r\n\r\nconst axios = new HttpRequest(baseUrl)\r\nexport default axios\r\n","import axios  from \"axios\"\r\nimport {Toast} from 'antd-mobile'\r\nconst addErrorLog = errorInfo => {\r\n    const { statusText, status, request: { responseURL } } = errorInfo\r\n    let info = {\r\n        type: 'ajax',\r\n        code: status,\r\n        mes: statusText,\r\n        url: responseURL\r\n    }\r\n    console.log('error',info)\r\n    //if (!responseURL.includes('save_error_logger')) store.dispatch('addErrorLog', info)\r\n}\r\n\r\nclass HttpRequest {\r\n    constructor (baseUrl) {\r\n        this.baseUrl = baseUrl\r\n        this.queue = {}\r\n    }\r\n    getInsideConfig () {\r\n        const config = {\r\n            baseURL: this.baseUrl,\r\n           // timeout:30000,\r\n            headers: {\r\n                //\r\n            }\r\n        }\r\n        return config\r\n    }\r\n    destroy (url) {\r\n        delete this.queue[url]\r\n        if (!Object.keys(this.queue).length) {\r\n            // Spin.hide()\r\n        }\r\n    }\r\n    interceptors (instance, url) {\r\n        // 请求拦截\r\n        instance.interceptors.request.use(config => {\r\n            // 添加全局的loading...\r\n            if (!Object.keys(this.queue).length) {\r\n                // Spin.show() // 不建议开启，因为界面不友好\r\n            }\r\n            this.queue[url] = true\r\n            return config\r\n        }, error => {\r\n            return Promise.reject(error)\r\n        })\r\n        // 响应拦截\r\n        instance.interceptors.response.use(res => {\r\n            this.destroy(url)\r\n            const { data, status } = res\r\n            return { data, status }\r\n        }, error => {\r\n            this.destroy(url)\r\n            let errorInfo = error.response\r\n            if (!errorInfo) {\r\n                //const { request: { statusText, status}, config } = JSON.parse(JSON.stringify(error))\r\n                const {...config } = JSON.parse(JSON.stringify(error))\r\n                /*if(config.message=='timeout of 30000ms exceeded'){\r\n                    Toast.hide()\r\n                    Toast.fail('网络连接超时',1)\r\n\r\n                }*/\r\n                errorInfo = {\r\n                    statusText:config.message,\r\n                    status:400,\r\n                    request: { responseURL: config.url }\r\n                }\r\n            }\r\n            addErrorLog(errorInfo)\r\n            return Promise.reject(error)\r\n        })\r\n    }\r\n    request (options) {\r\n        const instance = axios.create()\r\n        options = Object.assign(this.getInsideConfig(), options)\r\n        this.interceptors(instance, options.url)\r\n        return instance(options)\r\n    }\r\n}\r\nexport default HttpRequest\r\n","import axios from '../utils/api.request'\r\n\r\n/**\r\n * 文章详情页\r\n * @param id\r\n */\r\nexport const getArticleDetail = (id)=>{\r\n    return axios.request({\r\n        url: `/api/article_list/${id}/`,\r\n        /*  headers: {\r\n              'Authorization':'JWT '+''\r\n          },*/\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 评论详情\r\n * @param id\r\n */\r\nexport const getArticleCommit = (id)=>{\r\n    return axios.request({\r\n        url:`api/article_Comment/${id}/`,\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 我的文章\r\n * @param token\r\n */\r\nexport const getMyArticle = (token)=>{\r\n    return axios.request({\r\n        url:'api/me_article_list/',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 我的文章分页\r\n * @param page\r\n */\r\nexport const getMyArticleListPage = (page,token)=>{\r\n    return axios.request({\r\n        url: 'api/me_article_list/?page='+page,\r\n          headers: {\r\n              'Authorization':`JWT ${token}`\r\n          },\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 分类\r\n */\r\nexport const getArticleCate = ()=>{\r\n    return axios.request({\r\n        url: 'api/category/',\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 文章分类\r\n * @param name\r\n * @param page\r\n */\r\nexport const getArticleSaerch = (name,page,n)=>{\r\n    return axios.request({\r\n        url: n?`api/article_list/?title=${name}&page=${page}`:`api/article_list/?category=${name}&page=${page}`,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n/**\r\n * 我的粉丝\r\n * @param token\r\n */\r\nexport const getMyFan = (token)=>{\r\n    return axios.request({\r\n        url: 'api/UserFollows/?fan=1',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 我的关注\r\n * @param token\r\n */\r\nexport const getMyFollow = (token)=>{\r\n    return axios.request({\r\n        url: 'api/UserFollows/?follow=1',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n/**\r\n * 取消关注\r\n * @param id\r\n * @param token\r\n */\r\nexport const delMyFan = (id,token)=>{\r\n    return axios.request({\r\n        url: `/api/UserFollows/${id}/?follow=1`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method: 'delete'\r\n    })\r\n}\r\n/**\r\n * 新增关注\r\n * @param data\r\n * @param token\r\n */\r\nexport const addMyFan = (data,token)=>{\r\n    return axios.request({\r\n        url: `/api/UserFollows/?follow=1`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n/**\r\n * 文章评论\r\n * @param token\r\n * @param data\r\n */\r\nexport const addCommt = (token,data)=>{\r\n    return axios.request({\r\n        url:'/api/article_Comment/',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        data,\r\n        method:'post'\r\n    })\r\n}\r\n/**\r\n * 回复文章评论\r\n * @param token\r\n * @param data\r\n */\r\nexport const addCommtRep = (token,data)=>{\r\n    return axios.request({\r\n        url:'/api/comment_reply/',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        data,\r\n        method:'post'\r\n    })\r\n}\r\n/**\r\n * 查看其它用户文章\r\n * @param id\r\n */\r\nexport const otherArticles = (id)=>{\r\n    return axios.request({\r\n        url:`/api/PersonOthers/?pk=${id}`,\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 查看其它用户文章分页\r\n * @param id\r\n * @param page\r\n */\r\nexport const otherArticlesPage = (id,page)=>{\r\n    return axios.request({\r\n        url:`/api/PersonOthers/?pk=${id}&page=${page}`,\r\n        method:'get'\r\n    })\r\n}","import {getHomeList,getHomeListPage} from '../../../api/home';\r\nimport {getArticleSaerch} from '../../../api/article';\r\nimport * as actionTypes from './actionTypes';\r\n\r\n/**\r\n * 派发homeaction\r\n * @param data\r\n * @returns {{data: *, type: string}}\r\n */\r\nexport const getHomeAction = (data)=>({\r\n\ttype:actionTypes.HOME_GET_LIST,\r\n\tdata\r\n})\r\nexport const getHomePageAction = (data)=>({\r\n\ttype:actionTypes.HOME_GET_PAGING,\r\n\tdata\r\n})\r\n\r\n\r\n/**\r\n * 列表\r\n * @returns {Function}\r\n */\r\nexport const getHome = () => {\r\n\treturn (dispatch) => {\r\n\t\tgetHomeList().then(res => {\r\n\t\t\tdispatch(getHomeAction(res.data))\r\n\t\t})\r\n\r\n\t}\r\n}\r\n/**\r\n * 分页\r\n * @param page\r\n * @returns {Function}\r\n */\r\nexport const getHomePage = (page) => {\r\n\treturn (dispatch) => {\r\n\t\tgetHomeListPage(page).then(res => {\r\n\t\t\tdispatch(getHomePageAction(res.data))\r\n\t\t})\r\n\r\n\t}\r\n}\r\n\r\nexport const getSerach = (data)=>({\r\n\ttype:actionTypes.HOME_GET_ARTICLE_SEARCH,\r\n\tdata\r\n})\r\n\r\nexport const getSerachPage = (data)=>({\r\n\ttype:actionTypes.HOME_GET_ARTICLE_SEARCH_PAGE,\r\n\tdata\r\n})\r\n\r\nexport const getSerachAxios = (name,page,type,n)=>{\r\n\treturn (dispatch)=>{\r\n\t\tgetArticleSaerch(name,page,n).then(res=>{\r\n\t\t\ttype?dispatch(getSerachPage(res.data)):dispatch(getSerach(res.data))\r\n\t\t})\r\n\t}\r\n}","export const HOME_GET_LIST = 'home/HOME_GET_LIST';\r\nexport const HOME_GET_PAGING = 'home/HOME_GET_PAGING';\r\nexport const HOME_GET_ARTICLE_SEARCH = 'home/HOME_GET_ARTICLE_SEARCH';\r\nexport const HOME_GET_ARTICLE_SEARCH_PAGE = 'home/HOME_GET_ARTICLE_SEARCH_PAGE';\r\n\r\n","import axios from '../utils/api.request'\r\n\r\n/**\r\n * 文章列表\r\n * @param token\r\n */\r\nexport const getHomeList = (token)=>{\r\n    return axios.request({\r\n        url: '/api/article_list/',\r\n      /*  headers: {\r\n            'Authorization':'JWT '+''\r\n        },*/\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 文章分页\r\n * @param page\r\n */\r\nexport const getHomeListPage = (page)=>{\r\n    return axios.request({\r\n        url: '/api/article_list/?page='+page,\r\n        /*  headers: {\r\n              'Authorization':'JWT '+''\r\n          },*/\r\n        method: 'get'\r\n    })\r\n}\r\n","import Cookies from 'js-cookie'\r\n\r\n\r\nexport const TOKEN_KEY = 'token'\r\nexport const USER_KEY = 'user'\r\n/**\r\n * 获取评论数\r\n * @param item\r\n * @returns {*}\r\n */\r\nexport const getCommentCount=(item)=>{\r\n    let count = 0;\r\n     item.article_comment_set.map(el => {\r\n        return count+=el.articlecommentreply_set.length\r\n    })\r\n    return count+=item.article_comment_set.length\r\n}\r\n/**\r\n * 获取帖子评论\r\n * @param item\r\n * @returns {*}\r\n */\r\nexport const getForumCommentCount=(item)=>{\r\n    let count = 0;\r\n    item.comment_set.map(el => {\r\n        return count+=el.parent_comment_set.length\r\n    })\r\n    return count+=item.comment_set.length\r\n}\r\n/**\r\n * 获取地址栏参数\r\n * @param name\r\n * @returns {string|null}\r\n */\r\nexport const getQueryString=(paramer)=>{\r\n    let urlParamArry =[]\r\n    var url = window.location.href.split(\"?\")[1]; /* 获取url里\"?\"后面的值 */\r\n    if(!url)return;\r\n     if (url.indexOf(\"&\") > 0) { /* 判断是否是一个参数还是多个参数 */\r\n             urlParamArry = url.split(\"&\"); /* 分开每个参数，并放到数组里 */\r\n             for (var i = 0; i < urlParamArry.length; i++) {\r\n                    var paramerName = urlParamArry[i].split(\"=\"); /* 把每个参数名和值分开，并放到数组里 */\r\n                     if (paramer === paramerName[0]) { /* 匹配输入的参数和数组循环出来的参数是否一样 */\r\n                             return paramerName[1]; /* 返回想要的参数值 */\r\n                         }\r\n                 }\r\n         } else { /* 判断只有个参数 */\r\n             var paramerValue = url.split(\"=\")[1];\r\n             return paramerValue;\r\n         }\r\n}\r\n\r\n\r\nexport const setToken = (token) => {\r\n    Cookies.set(TOKEN_KEY, token, { expires: 30 })\r\n}\r\nexport const setUser = (token) => {\r\n    Cookies.set(USER_KEY, token, { expires: 30 })\r\n}\r\nexport const getToken = () => {\r\n    const token = Cookies.get(TOKEN_KEY)\r\n    if (token) return token\r\n    else return false\r\n}\r\nexport const getUser = () => {\r\n    const token = Cookies.get(USER_KEY)\r\n    if (token) return token\r\n    else return false\r\n}\r\nexport const delToken = () =>{\r\n    Cookies.remove(TOKEN_KEY)\r\n}\r\nexport const delUser = () =>{\r\n    Cookies.remove(USER_KEY)\r\n}","import React,{Component} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { ActivityIndicator, WingBlank, ListView,SearchBar,PullToRefresh} from 'antd-mobile';\r\nimport {NavLink, HashRouter, Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators} from './store'\r\nimport {getArticleCate} from './../../api/article'\r\nimport {getCommentCount, getToken, getUser} from './../../utils/utils'\r\nimport './style.less'\r\nclass Home extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state = {\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            page:1,\r\n            categrty:null,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n            search:true,\r\n        };\r\n        this.changeState = this.changeState.bind(this)\r\n        this.submit = this.submit.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n      componentDidMount() {\r\n        this.props.getHomeList()\r\n          getArticleCate().then(res=>{\r\n              this.setState({\r\n                  categrty:res.data\r\n              })\r\n          })\r\n          window.sessionStorage.clear()\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isLoading: false,\r\n            search:false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop-50,\r\n            page:(nextProps.page.next ? ++this.state.page:'')\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * TODO 获取评论数\r\n     * @param item\r\n     * @returns {*}\r\n     */\r\n   /* getCommentCount(item){\r\n        let count = 0;\r\n        item.article_comment_set.map(el=>{\r\n             count+=el.articlecommentreply_set.length\r\n        })\r\n        return count+=item.article_comment_set.length\r\n    }*/\r\n    submit(e){\r\n        window.sessionStorage.clear()\r\n        this.setState({\r\n            search:true,\r\n            page:1\r\n        })\r\n        window.sessionStorage.setItem('serachs',e)\r\n        this.props.getSerach(e,1,'',true)\r\n        document.getElementsByClassName('am-list-view-scrollview')[0].scrollTop=0\r\n    }\r\n   /**\r\n    *TODO 下拉刷新\r\n    */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getHomeList()\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            if (window.sessionStorage.getItem('serach')) {\r\n                this.props.getSerach(window.sessionStorage.getItem('serach'),this.state.page,true)\r\n            }else if(window.sessionStorage.getItem('serachs')){\r\n                this.props.getSerach(window.sessionStorage.getItem('serachs'),this.state.page,true,true)\r\n            }else{\r\n                this.props.getHomePage(this.state.page)\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    serach(e){\r\n        window.sessionStorage.clear()\r\n\r\n        this.setState({\r\n            search:true,\r\n            page:1\r\n        })\r\n        window.sessionStorage.setItem('serach',e)\r\n        this.props.getSerach(e,1,)\r\n        document.getElementsByClassName('am-list-view-scrollview')[0].scrollTop=0\r\n\r\n    }\r\n    render() {\r\n        //const {isShow} = this.props\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                <div className='list'>\r\n                    <div>\r\n                        <div className='list-header'>\r\n                            <div className='list-header-left one-txt-cut'>\r\n                                {getUser()? <Link to={JSON.parse(getUser()).id===rowData.authors.id?`/person/`:`/person/${rowData.authors.id}`}>\r\n                                    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                    {rowData.authors.username}\r\n                                </Link>\r\n                                :    <Link to={`/person/${rowData.authors.id}`}>\r\n                                        <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                        {rowData.authors.username}\r\n                                    </Link>\r\n                                }\r\n                                    {/*<Link to={`/person/${rowData.authors.id}`}>*/}\r\n                                    {/*    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>*/}\r\n                                    {/*    {rowData.authors.username}*/}\r\n                                    {/*</Link>*/}\r\n\r\n                            </div>\r\n                            <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                        </div>\r\n                        {rowData.list_pic?\r\n                            <div className='list-title'>\r\n\r\n                                <div className='list-title-left txt-cut'>{rowData.title}</div>\r\n                                <div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>\r\n\r\n                            </div>\r\n                            :\r\n                            <div className='list-title'style={{height:'auto'}}>\r\n                                <div className='list-title-left txt-cut' style={{width:'100%'}}>{rowData.title}</div>\r\n                            </div>\r\n                        }\r\n                        {/*<div className='list-title'>*/}\r\n                        {/*    */}\r\n                        {/*    <div className='list-title-left txt-cut'>{rowData.title}</div>*/}\r\n                        {/*    {rowData.list_pic?<div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>:''}*/}\r\n\r\n                        {/*</div>*/}\r\n                        <div className='list-desc'>\r\n                            {rowData.desc}\r\n                        </div>\r\n                        <div className='list-footer'>\r\n                            <div className='list-footer-left'>\r\n                                <span className='click'>{rowData.click_nums}</span>\r\n                                <span className='comment'>\r\n                                    {getCommentCount(rowData)}\r\n                                </span>\r\n                            </div>\r\n                            <div className='list-footer-right'><NavLink to={{pathname:`/article/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n\r\n        // if(list.results){\r\n            return(\r\n                <div>\r\n                    <WingBlank>\r\n                        <ActivityIndicator toast text=\"正在加载\" animating={this.state.search} />\r\n                    </WingBlank>\r\n                    <SearchBar placeholder=\"Search\" onSubmit={this.submit} />\r\n                    <div className='nav'>\r\n                        <div>\r\n                            {this.state.categrty?this.state.categrty.map((item,index)=>{\r\n                                return(\r\n                                    <span key={item.id} onClick={()=>this.serach(item.id)}>{item.name}</span>\r\n                                )\r\n                            }):''}\r\n                        </div>\r\n                    </div>\r\n                    <ListView\r\n                        ref={el => this.lv = el}\r\n                        dataSource={this.state.dataSource}\r\n                        renderRow={row}\r\n                        useBodyScroll={this.state.useBodyScroll}\r\n                        style={{\r\n                            height: this.state.height,\r\n                        }}\r\n                        renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                            {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                        </div>)}\r\n                        pullToRefresh={<PullToRefresh\r\n\r\n                            refreshing={this.state.refreshing}\r\n                            onRefresh={this.onRefresh}\r\n                        />}\r\n                        onEndReached={this.onEndReached}\r\n                    />\r\n                </div>\r\n            )\r\n       // /* }else{\r\n       //      return null\r\n       //  }*/\r\n\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    page:state.home.articleList,\r\n    isShow:state.home.isShow,\r\n    list:state.home.list\r\n\r\n})\r\nconst mapDispatch = (dispatch) => ({\r\n      getHomeList(){\r\n         dispatch(actionCreators.getHome())\r\n    },\r\n    getHomePage(page){\r\n          dispatch(actionCreators.getHomePage(page))\r\n    },\r\n    getSerach(name,page,type,n){\r\n          dispatch(actionCreators.getSerachAxios(name,page,type,n))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(Home)\r\n","import {ARTILCE_DETAIL,ARTILCE_DEL} from './actionTypes'\r\nconst defaultState = {\r\n    list:[]\r\n}\r\n\r\nexport default (state=defaultState,action)=>{\r\n    switch (action.type) {\r\n        case ARTILCE_DETAIL:\r\n            return {\r\n                ...state,\r\n                list:action.data\r\n            }\r\n        case ARTILCE_DEL:\r\n            return {\r\n                ...state,\r\n                list:[]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}","import {ARTILCE_DETAIL,ARTILCE_DEL} from './actionTypes'\r\nimport {getArticleDetail as getArticle} from '../../../api/article'\r\n\r\nexport const getArticleDetail = (data)=>({\r\n    type:ARTILCE_DETAIL,\r\n    data\r\n})\r\nexport const ArticleDel = ()=>({\r\n    type:ARTILCE_DEL\r\n})\r\nexport const getArticleDetailAxios = (id)=>{\r\n    return (dispatch)=>{\r\n        getArticle(id).then(res=>{\r\n            dispatch(getArticleDetail(res.data))\r\n        })\r\n    }\r\n}","export const ARTILCE_DETAIL = '/article/ARTILCE_DETAIL'\r\nexport const ARTILCE_DEL = '/article/ARTILCE_DEL'\r\nexport const COMMENT = '/article/COMMENT'","import axios from '../utils/api.request'\r\n\r\n/**\r\n * 登录\r\n * @param data\r\n * @constructor\r\n */\r\nexport const Login = (data)=>{\r\n    return axios.request({\r\n        url:'/api/login/',\r\n        data,\r\n        method:'post'\r\n    })\r\n}\r\n/**\r\n * 获取我的用户信息\r\n * @param token\r\n */\r\nexport const getInfo = (token) =>{\r\n    return axios.request({\r\n        url:'/api/apiinfo/',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 修改资料\r\n * @param id\r\n * @param token\r\n * @param data\r\n */\r\nexport const putInfoImg = (id,token,data) =>{\r\n    return axios.request({\r\n        url:`/api/apiinfo/${id}/`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        data:data,\r\n        method:'put'\r\n    })\r\n}\r\n\r\n/**\r\n * 个人中心获取消息列表\r\n * @param token\r\n */\r\nexport const getMessage = (token)=>{\r\n    return axios.request({\r\n        url:`/api/UserMessages/?type=unread`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 消息列表\r\n * @param token\r\n */\r\nexport const appGetMessage = (token)=>{\r\n    return axios.request({\r\n        url:`/api/AppMessage/`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'get'\r\n    })\r\n}\r\n/**\r\n * 已读\r\n * @param token\r\n * @param data\r\n * @param id\r\n */\r\nexport const appPutMessage = (token,data,id)=>{\r\n    return axios.request({\r\n        url:`/api/AppMessage/${id}/`,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        data:data,\r\n        method:'put'\r\n    })\r\n}\r\n/**\r\n * 查看用户信息\r\n * @param id\r\n */\r\nexport const getOhtersInfo = (id)=>{\r\n    return axios.request({\r\n        url:`/api/all_info/${id}`,\r\n        method:'get'\r\n    })\r\n}\r\n\r\n/**\r\n * 查看用户的粉丝\r\n *\r\n * @param id\r\n * @param user_id\r\n */\r\nexport const getOhtersFan = (id,user_id)=>{\r\n    return axios.request({\r\n        url:`/api/UserFollowOther/?fan=${id}&user_id=${user_id}`,\r\n        method:'get',\r\n    })\r\n}\r\n/**\r\n * 查看用户的关注\r\n * @param id\r\n * @param user_id\r\n */\r\nexport const getOhtersFollows = (id,user_id)=>{\r\n    return axios.request({\r\n        url:`/api/UserFollowOther/?follow=${id}&user_id=${user_id}`,\r\n        method:'get',\r\n    })\r\n}\r\n/**\r\n * 查看用户的关注进行当前用户取消关注\r\n * @param id\r\n * @param follow\r\n * @param user_id\r\n * @param token\r\n * @param data\r\n */\r\nexport const delOhtersFollows = (id,follow,type,user_id,token,data)=>{\r\n    return axios.request({\r\n        url:`/api/UserFollowOther/${id}/?${type}=${follow}&user_id=${user_id}`,\r\n        data,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'delete',\r\n    })\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport QRCode from 'qrcode.react'\r\n\r\nconst propTypes = {\r\n    url: PropTypes.string,\r\n    title: PropTypes.string,\r\n    description: PropTypes.string,\r\n    image: PropTypes.string,\r\n    sites: PropTypes.array,\r\n    origin:PropTypes.string\r\n};\r\n\r\n\r\nlet defaultProps = {\r\n    sites: [\"qzone\", \"weibo\", \"google\", \"twitter\", \"qq\",\r\n        \"tencent\", \"wechat\", \"douban\", \"linkedin\", \"facebook\"],\r\n    wechatQrcodeTitle: '微信扫一扫：分享',\r\n    wechatQrcodeHelper: '微信里点“发现”，扫一下,二维码便可将本文分享至朋友圈。',\r\n};\r\n\r\nclass Share extends React.Component {\r\n\r\n\r\n\r\n    render(){\r\n        let sites = this.props.sites\r\n        let url = this.props.url\r\n        let wechatQrcodeTitle = defaultProps.wechatQrcodeTitle\r\n        let wechatQrcodeHelper = defaultProps.wechatQrcodeHelper\r\n        let title = (this.props.title)\r\n        let description = (this.props.description)\r\n        let image = (this.props.image)\r\n        let site = title\r\n        let origin = (this.props.origin)\r\n\r\n        let summary = description\r\n        let source = site\r\n        const templates = {\r\n            qzone: `http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${url}&title=${title}&desc=${description}&summary=${summary}&site=${site}&pics=${image}`,\r\n            qq: `http://connect.qq.com/widget/shareqq/index.html?url=${url}&title=${title}&source=${source}&desc=${description}`,\r\n            tencent: `http://share.v.t.qq.com/index.php?c=share&a=index&title=${title}&url=${url}&pic=${image}`,\r\n            weibo: `https://service.weibo.com/share/share.php?title=${title}&pic=${image}&url=${url}&appkey=`,\r\n            wechat: `javascript:`,\r\n            douban: `http://shuo.douban.com/!service/share?name=${title}&text=${description}&image=${image}&starid=0&aid=0&style=11&href=${url}`,\r\n            diandian: `http://www.diandian.com/share?lo=${url}&ti=${title}&type=link`,\r\n            linkedin: `http://www.linkedin.com/shareArticle?mini=true&ro=true&title=${title}&url=${url}&summary=${summary}&source=${source}&armin=armin`,\r\n            facebook: `https://www.facebook.com/sharer/sharer.php?u=${url}`,\r\n            twitter: `https://twitter.com/intent/tweet?text=${title}&url=${url}&via=${origin}`,\r\n            google: `https://plus.google.com/share?url=${url}`\r\n        };\r\n        const row = (sites)=>{\r\n            return sites.map((item,i)=>{\r\n                if(item === \"wechat\"){\r\n                    let doc = <div key={i} className='wechat-qrcode'>\r\n                        <h4>{wechatQrcodeTitle}</h4>\r\n                        <div className='qrcode'>\r\n                            <QRCode value={url} size={100} />\r\n                        </div>\r\n                        <div className='help'>\r\n                            <p>{wechatQrcodeHelper}</p>\r\n                        </div>\r\n                    </div>\r\n                    return (\r\n                        <span key={i} className='social-share-icon icon-wechat' target='_blank'>\r\n                            {doc}\r\n                        </span>\r\n                    )\r\n                } else {\r\n                    let className = `icon-${item} social-share-icon`\r\n                    return (\r\n                        <a key={i} className={className}  href={templates[item]} target=\"_blank\"></a>\r\n                    )\r\n                }\r\n            })\r\n        }\r\n        return(\r\n            <div className=\"social-share\">\r\n                {row(sites)}\r\n            </div>\r\n        )\r\n    };\r\n};\r\n\r\nShare.propTypes = propTypes;\r\n/*ShareButtons.defaultProps = defaultProps;*/\r\n\r\nexport default Share;","\r\nconst dateDiff=(timestamp)=> {\r\n    // 补全为13位\r\n    var arrTimestamp = (timestamp + '').split('');\r\n    for (var start = 0; start < 13; start++) {\r\n        if (!arrTimestamp[start]) {\r\n            arrTimestamp[start] = '0';\r\n        }\r\n    }\r\n    timestamp = arrTimestamp.join('') * 1;\r\n\r\n    var minute = 1000 * 60;\r\n    var hour = minute * 60;\r\n    var day = hour * 24;\r\n    //var halfamonth = day * 15;\r\n    var month = day * 30;\r\n    var now = new Date().getTime();\r\n    var diffValue = now - timestamp;\r\n\r\n    // 如果本地时间反而小于变量时间\r\n    if (diffValue < 0) {\r\n        return '不久前';\r\n    }\r\n\r\n    // 计算差异时间的量级\r\n    var monthC = diffValue / month;\r\n    var weekC = diffValue / (7 * day);\r\n    var dayC = diffValue / day;\r\n    var hourC = diffValue / hour;\r\n    var minC = diffValue / minute;\r\n\r\n    // 数值补0方法\r\n    var zero = function (value) {\r\n        if (value < 10) {\r\n            return '0' + value;\r\n        }\r\n        return value;\r\n    };\r\n    // 使用\r\n    if (monthC > 12) {\r\n        // 超过1年，直接显示年月日\r\n        return (function () {\r\n            var date = new Date(timestamp);\r\n            return date.getFullYear() + '年' + zero(date.getMonth() + 1) + '月' + zero(date.getDate()) + '日';\r\n        })();\r\n    } else if (monthC >= 1) {\r\n        return parseInt(monthC) + \"月前\";\r\n    } else if (weekC >= 1) {\r\n        return parseInt(weekC) + \"周前\";\r\n    } else if (dayC >= 1) {\r\n        return parseInt(dayC) + \"天前\";\r\n    } else if (hourC >= 1) {\r\n        return parseInt(hourC) + \"小时前\";\r\n    } else if (minC >= 1) {\r\n        return parseInt(minC) + \"分钟前\";\r\n    }\r\n    return '刚刚';\r\n};\r\nexport {\r\n    dateDiff,\r\n}\r\n","import React from 'react'\r\nimport {NavBar, Icon, WingBlank, ActivityIndicator,Toast,Button} from 'antd-mobile'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators} from './store'\r\nimport Editor from 'react-editor-md';\r\nimport {addCommt, addCommtRep, addMyFan, delMyFan} from './../../api/article'\r\nimport {getOhtersFan} from './../../api/user'\r\nimport Share from '../../components/Share'\r\nimport {dateDiff} from '../../utils/time'\r\nimport './style.less'\r\nimport '../../static/css/share.min.css'\r\nimport {getToken, getUser} from \"../../utils/utils\";\r\nclass ArticleDetail extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isShow:true,\r\n            _visite:false,\r\n            model:false,\r\n            comm:null,\r\n            vue:'',\r\n            type:false,\r\n            rep:null,\r\n            user:false,\r\n            follows:false,\r\n            follows_id:null\r\n        }\r\n        this.Change = this.Change.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        let id = this.props.match.params.id\r\n\r\n        this.props.init(id)\r\n\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n\r\n        document.title = `文章-${nextProps.list.article.list.title}`;\r\n        document.getElementById('desc').setAttribute('content',nextProps.list.article.list.desc)\r\n        document.getElementById('keywords').setAttribute('content',nextProps.list.article.list.keywords)\r\n        window.sessionStorage.setItem('k',nextProps.list.article.list.content)\r\n\r\n        if (getToken()&&JSON.parse(getUser()).id===nextProps.list.article.list.authors.id)this.setState({user:true})\r\n        getOhtersFan(nextProps.list.article.list.authors.id,getUser()?JSON.parse(getUser()).id:'').then(res=>{\r\n            this.setState({\r\n                isShow:false\r\n            })\r\n            if (!getUser()) return\r\n            if(res.data.length>0){\r\n                for (let item in res.data){\r\n                    if(res.data[item].fan.id===JSON.parse(getUser()).id){\r\n                        this.setState({follows:true,follows_id:res.data[item].id})\r\n                    }\r\n                }\r\n            }\r\n\r\n        })\r\n    }\r\n    del(){\r\n        if(!getToken())this.props.history.push(`/login/?next=/article/detail/${this.props.match.params.id}`)\r\n        delMyFan(this.state.follows_id,getToken()).then(res=>{\r\n            if(res.status===204){\r\n                Toast.success('取消关注成功', 1);\r\n                this.setState({follows:false})\r\n            }\r\n        })\r\n    }\r\n    add(e){\r\n        if(!getToken())this.props.history.push(`/login/?next=/article/detail/${this.props.match.params.id}`)\r\n        let data={\r\n            follow:e.id,\r\n            fan:JSON.parse(getUser()).id\r\n        }\r\n        addMyFan(data,getToken()).then(res=>{\r\n            this.props.init(this.props.match.params.id)\r\n            Toast.success(res.data.message, 1);\r\n        })\r\n    }\r\n    getContent = ()=>{\r\n        return this.props.list.article.list.content\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.Unmount()\r\n    }\r\n    show=()=>{\r\n        this.setState({\r\n            _visite:!this.state._visite\r\n        })\r\n    }\r\n    setModel(e){\r\n        if(getToken()){\r\n            this.setState({\r\n                model:true,\r\n                comm:e\r\n            })\r\n        }else{\r\n            this.props.history.push(`/login/?next=/article/detail/${this.props.match.params.id}`)\r\n        }\r\n    }\r\n    Change(e){\r\n        this.setState({\r\n            vue:e.target.value\r\n        })\r\n    }\r\n    sub(e){\r\n        e.preventDefault()\r\n        if(getToken()){\r\n            if (this.state.vue.trim().length==0)return\r\n            let data={}\r\n            data.article = `${this.props.match.params.id}`\r\n            data.comments = this.state.vue\r\n            data.user =JSON.parse(getUser()).id\r\n            data.url = `/article/detail/${this.props.match.params.id}`\r\n            data.cip = window.returnCitySN['cip']\r\n            data.address = window.returnCitySN['cname']\r\n            addCommt(getToken(),data).then(res=>{\r\n                Toast.success('评论成功',1)\r\n                this.props.init(this.props.match.params.id)\r\n                this.setState({\r\n                    vue:'',\r\n                    rep:null\r\n                })\r\n            }).catch(err=>{\r\n                console.log(err.response)\r\n            })\r\n        }else{\r\n            Toast.fail('未登录',1)\r\n        }\r\n    }\r\n    reple(e){\r\n        if(!getToken())this.props.history.push(`/login/?next=/forum/detail/${this.props.match.params.id}`)\r\n        this.setState({\r\n            type:true,\r\n            rep:e\r\n        },()=>{\r\n            this.textInput.focus();\r\n        })\r\n    }\r\n    subRep(e){\r\n        e.preventDefault()\r\n        if(getToken()){\r\n            if (this.state.vue.trim().length==0)return\r\n            let data={}\r\n            data.comments = this.state.vue\r\n            data.user =JSON.parse(getUser()).id\r\n            data.url = `/article/detail/${this.props.match.params.id}`\r\n            data.cip = window.returnCitySN['cip']\r\n            data.address = window.returnCitySN['cname']\r\n            data.to_uids =this.state.rep.user.id\r\n            data.aomments_id =this.state.rep.aomments_id\r\n            addCommtRep(getToken(),data).then(res=>{\r\n                console.log(res)\r\n                this.props.init(this.props.match.params.id)\r\n                this.setState({\r\n                    vue:'',\r\n                    rep:null,\r\n                    model:false\r\n                })\r\n                Toast.success('回复成功',1)\r\n            })\r\n        }else{\r\n            Toast.fail('未登录',1)\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let {list} = this.props.list.article\r\n        const comm=()=>{\r\n            return(\r\n                <div className='commit'>\r\n                    <p className='commit-p'></p>\r\n                    <div className=\"commit-main\">\r\n                        {list.article_comment_set.map((item,index)=>{\r\n                            return(\r\n                                <div key={index} className='commit-body'>\r\n                                    <div className='commit-body-img'>\r\n\r\n                                        <Link to={`/person/${item.user.id}`}><img src={item.user.user_imag?item.user.user_imag:item.user.user_image?item.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></Link>\r\n\r\n                                    </div>\r\n                                    <div className='commit-body-text'>\r\n                                        <h4>{item.user.username}</h4>\r\n                                        <p>\r\n                                            {item.comments}\r\n                                        </p>\r\n                                        <p>{dateDiff(new Date(item.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                            <span onClick={()=>this.setModel(item)} className={item.articlecommentreply_set.length>0?'active':''}>{item.articlecommentreply_set.length>0?item.articlecommentreply_set.length:''}回复</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow} />\r\n                </WingBlank>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                    rightContent={\r\n                        <Icon key=\"1\" type=\"ellipsis\"onClick={this.show} />\r\n                    }\r\n                >文章</NavBar>\r\n                {!this.state.isShow?\r\n                    <div className=\"main\">\r\n                        <div className='detail-header'>\r\n                            <div className='detaile-header-img'>\r\n                                {this.state.user?<Link to={`/person/`}>\r\n                                    <img src={list.authors.user_imag?list.authors.user_imag:list.authors.user_image} alt=\"\"/></Link>\r\n                                    :<Link to={`/person/${list.authors.id}`}>\r\n                                        <img src={list.authors.user_imag?list.authors.user_imag:list.authors.user_image} alt=\"\"/>\r\n                                    </Link>}\r\n\r\n                                <div className='detaile-header-info'>\r\n                                    <h4>{list.authors.username}</h4>\r\n                                    <span>{dateDiff(new Date(list.add_time.replace(/-/g, \"/\")).getTime())}发布</span>\r\n                                    <span className='click'>阅读 {list.click_nums}</span>\r\n                               {/*     <span className='comment'>{getCommentCount(list)}</span>*/}\r\n                                </div>\r\n                                {this.state.follows?<Button type=\"primary\" inline size=\"small\" style={{ marginRight: '4px' }} onClick={()=>this.del()}>已关注</Button>:<Button type=\"ghost\" inline size=\"small\" style={{ marginRight: '4px' }} onClick={()=>this.add(list.authors)}>关注</Button>}\r\n\r\n\r\n                            </div>\r\n                            <h1>{list.title}</h1>\r\n                        </div>\r\n                        <Editor.EditorShow config={\r\n                            {\r\n                                markdown: this.getContent(),\r\n                            }\r\n                        }/>\r\n                        {comm()}\r\n                        <div className=\"footer\">\r\n                            {getToken()?<form action='' onSubmit={(e)=>this.sub(e)}>\r\n                                <input type=\"text\" value={this.state.vue} onChange={this.Change} placeholder='说点什么吧'/>\r\n                            </form>:<Link to={`/login/?next=/article/detail/${this.props.match.params.id}`}>登录后可评论</Link>}\r\n\r\n                        </div>\r\n\r\n                        <div id='model' onClick={()=>this.setState({_visite:false})} className={\r\n                            this.state._visite\r\n                            ?\"animated-fade-in\" : \"animated-fade-out\"\r\n                        }>\r\n                            <div className='model-main'\r\n                                 onClick={e => {\r\n                                e.stopPropagation();\r\n                            }}>\r\n                                <Share\r\n                                    className={\r\n                                        this.state._visite\r\n                                            ? \"animated-slide-in-up\"\r\n                                            : \"animated-slide-out-down\"\r\n                                    }\r\n                                    title={document.title}\r\n                                    url={window.location.href}\r\n                                    image={list.authors.user_imag?list.authors.user_imag:list.authors.user_image}\r\n                                    description={document.getElementById('desc').getAttribute('content')}\r\n                                    origin={window.location.href}\r\n                                    sites={ ['weibo','qq','wechat','douban','qzone']}\r\n                                />\r\n                                <p className='close' onClick={()=>this.setState({_visite:false})}>取消</p>\r\n                            </div>\r\n                        </div>\r\n                        {this.state.model?\r\n                            <div className={  this.state.model\r\n                                ?\" model animated-fade-in\" : \"animated-fade-out\"}>\r\n                                <NavBar\r\n                                    icon={<Icon type=\"down\" />}\r\n                                    onLeftClick={() => this.setState({model:false})}\r\n                                >回复</NavBar>\r\n\r\n                                <div className='commit' style={{marginTop:50}}>\r\n                                    <div className=\"commit-main\">\r\n                                        <div className='commit-body'>\r\n                                            <div className='commit-body-img'>\r\n                                                        <img src={this.state.comm.user.user_imag?this.state.comm.user.user_imag:this.state.comm.user.user_image?this.state.comm.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                                    </div>\r\n                                            <div className='commit-body-text'>\r\n                                                        <h4>{this.state.comm.user.username}</h4>\r\n                                                        <p>\r\n                                                            {this.state.comm.comments}\r\n                                                        </p>\r\n                                                        <p className='timer'>{dateDiff(new Date(this.state.comm.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                                        <span onClick={()=>this.reple(this.state.comm)}>回复</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                        </div>\r\n                                        {this.state.comm.articlecommentreply_set.map((item,index)=>{\r\n                                            return(\r\n                                                <div key={index} className='commit-body'>\r\n                                                    <div className='commit-body-img'>\r\n                                                        <img src={item.user.user_imag?item.user.user_imag:item.user.user_image?item.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n\r\n                                                    </div>\r\n                                                    <div className='commit-body-text'>\r\n                                                        <h4>{item.user.username}</h4>\r\n                                                        <p>\r\n                                                            回复 <span className='user'>{item.to_uids.username}</span> {item.comments}\r\n                                                        </p>\r\n                                                        <p className='timer'>{dateDiff(new Date(item.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                                            <span onClick={()=>this.reple(item)}>回复</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.type?<form action=\"\"  className='footer' onSubmit={(e)=>this.subRep(e)}>\r\n                                    <input type=\"text\" placeholder='说点什么吧' value={this.state.vue} onChange={this.Change} onBlur={()=>this.setState({type:false,vue:'',rep:null})} ref={(input) => { this.textInput = input; }} />\r\n                                </form>:''}\r\n\r\n                            </div>\r\n                            :null}\r\n\r\n                    </div>\r\n                   :''}\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}\r\nconst mapState=(state)=>({\r\n    list:state\r\n})\r\n\r\nconst mapDispatch = (dispatch)=>({\r\n    init(id){\r\n        dispatch(actionCreators.getArticleDetailAxios(id))\r\n    },\r\n    Unmount(){\r\n        dispatch(actionCreators.ArticleDel())\r\n    }\r\n\r\n})\r\nexport default connect(mapState,mapDispatch)(ArticleDetail)\r\n\r\n//TODO 前端，移动端，小程序、app、node、php、Java、python、服务器、数据库、大数据、云计算、人工智能、UI、操作系统、爬虫、go、c/c++ c#","export const MY_GETINFO = '/my/MY_GETINFO'\r\nexport const MY_ARTICLE_LIST = '/my/MY_ARTICLE_LIST'\r\nexport const MY_ARTICLE_LIST_PAGE = '/my/MY_ARTICLE_LIST_PAGE'\r\nexport const MY_FORUM_LIST = '/my/MY_FORUM_LIST'\r\nexport const MY_FORUM_LIST_PAGE = '/my/MY_FORUM_LIST_PAGE'\r\nexport const MY_FAN = '/my/MY_FAN'\r\nexport const MY_FOLLOW = '/my/MY_FOLLOW'\r\nexport const MY_GETMESSAGECOUNT = '/my/MY_GETMESSAGECOUNT'\r\nexport const OTHERARTICLE = '/my/OTHERS/OTHERARTICLE'\r\nexport const OTHERARTICLE_PAGE = '/my/OTHERS/OTHERARTICLE_PAGE'\r\nexport const OTHERFORUM = '/my/OTHERS/OTHERFORUM'\r\nexport const OTHERFORUM_PAGE = '/my/OTHERS/OTHERFORUM_PAGE'\r\n","import {MY_GETINFO,MY_ARTICLE_LIST,MY_ARTICLE_LIST_PAGE,MY_FORUM_LIST,MY_FORUM_LIST_PAGE,MY_FAN,\r\n    MY_FOLLOW,MY_GETMESSAGECOUNT,OTHERARTICLE,OTHERARTICLE_PAGE,OTHERFORUM,OTHERFORUM_PAGE} from './actionTypes'\r\nimport {getInfo,getMessage} from '../../../api/user'\r\nimport {getMyArticle,getMyArticleListPage,getMyFan,getMyFollow,otherArticles,otherArticlesPage} from '../../../api/article'\r\nimport {getMyForum,getMyForumListPage,othersForum,othersForumPage} from '../../../api/forum'\r\n\r\nexport const getMyInfo = (data)=>({\r\n    type:MY_GETINFO,\r\n    data\r\n})\r\n\r\nexport const getMyInfoAxios = (token)=>{\r\n    return (dispatch)=>{\r\n        getInfo(token).then(res=>{\r\n            dispatch(getMyInfo(res.data))\r\n        }).catch(err=>{\r\n            dispatch(getMyInfo(err.response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMyArticleList =(data)=>({\r\n    type:MY_ARTICLE_LIST,\r\n    data\r\n})\r\n\r\nexport const getMyArticleListAxios = (token)=>{\r\n    return (dispatch)=>{\r\n        getMyArticle(token).then(res=>{\r\n            dispatch(getMyArticleList(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMyArticleListPages =(data)=>({\r\n    type:MY_ARTICLE_LIST_PAGE,\r\n    data\r\n})\r\n\r\nexport const getMyArticleListPageAxios = (page,token)=>{\r\n    return (dispatch)=>{\r\n        getMyArticleListPage(page,token).then(res=>{\r\n            dispatch(getMyArticleListPages(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMyForumList =(data)=>({\r\n    type:MY_FORUM_LIST,\r\n    data\r\n})\r\n\r\nexport const getMyForumListAxios = (token)=>{\r\n    return (dispatch)=>{\r\n        getMyForum(token).then(res=>{\r\n            dispatch(getMyForumList(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getMyForumListPages =(data)=>({\r\n    type:MY_FORUM_LIST_PAGE,\r\n    data\r\n})\r\n\r\nexport const getMyForumListPageAxios = (page,token)=>{\r\n    return (dispatch)=>{\r\n        getMyForumListPage(page,token).then(res=>{\r\n            dispatch(getMyForumListPages(res.data))\r\n        })\r\n    }\r\n}\r\nexport const getFan =(data)=>({\r\n    type:MY_FAN,\r\n    data\r\n})\r\nexport const getFanAxios = (toekn) =>{\r\n    return (dispatch)=>{\r\n        getMyFan(toekn).then(res=>{\r\n            dispatch(getFan(res.data))\r\n        })\r\n    }\r\n}\r\n/**\r\n * 我的关注\r\n * @param data\r\n * @returns {{data: *, type: string}}\r\n */\r\nexport const getFollow =(data)=>({\r\n    type:MY_FOLLOW,\r\n    data\r\n})\r\nexport const getFollowAxios = (toekn) =>{\r\n    return (dispatch)=>{\r\n        getMyFollow(toekn).then(res=>{\r\n            dispatch(getFollow(res.data))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getMessageCount = (data) =>({\r\n    type:MY_GETMESSAGECOUNT,\r\n    data\r\n})\r\n\r\nexport const getMessageCountAxios = (token)=>{\r\n    return (dispatch)=>{\r\n        getMessage(token).then(res=>{\r\n            dispatch(getMessageCount(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getOthersArticleList =(data)=>({\r\n    type:OTHERARTICLE,\r\n    data\r\n})\r\n\r\nexport const getOthersArticleListAxios = (id)=>{\r\n    return (dispatch)=>{\r\n        otherArticles(id).then(res=>{\r\n            dispatch(getOthersArticleList(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getOthersArticleListPages =(data)=>({\r\n    type:OTHERARTICLE_PAGE,\r\n    data\r\n})\r\n\r\nexport const getOthersArticleListPageAxios = (id,page)=>{\r\n    return (dispatch)=>{\r\n        otherArticlesPage(id,page).then(res=>{\r\n            dispatch(getOthersArticleListPages(res.data))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getOthersForumList =(data)=>({\r\n    type:OTHERFORUM,\r\n    data\r\n})\r\n\r\nexport const getOthersForumListAxios = (id)=>{\r\n    return (dispatch)=>{\r\n        othersForum(id).then(res=>{\r\n            dispatch(getOthersForumList(res.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getOthersForumListPages =(data)=>({\r\n    type:OTHERFORUM_PAGE,\r\n    data\r\n})\r\n\r\nexport const getOthersForumListPagesAxios = (id,page)=>{\r\n    return (dispatch)=>{\r\n        othersForumPage(id,page).then(res=>{\r\n            dispatch(getOthersForumListPages(res.data))\r\n        })\r\n    }\r\n}","import axios from '../utils/api.request'\r\n\r\n/**\r\n * 我的帖子\r\n * @param token\r\n */\r\nexport const getMyForum = (token)=>{\r\n    return axios.request({\r\n        url: 'api/forum/',\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method: 'get'\r\n    })\r\n}\r\n/**\r\n * 我的帖子分页\r\n * @param page\r\n * @param token\r\n */\r\nexport const getMyForumListPage = (page,token)=>{\r\n    return axios.request({\r\n        url: 'api/forum/?page='+page,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n/**\r\n * 查看用户帖子\r\n * @param id\r\n */\r\nexport const othersForum = (id)=>{\r\n    return axios.request({\r\n        url: `/api/forum/?pk=${id}`,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport const othersForumPage = (id,page)=>{\r\n    return axios.request({\r\n        url: `/api/forum/?pk=${id}&page=${page}`,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport const  ForumList = () =>{\r\n    return axios.request({\r\n        url:'/api/ForumListView/',\r\n        method:'get'\r\n    })\r\n}\r\nexport const  ForumListPage = (page) =>{\r\n    return axios.request({\r\n        url:'/api/ForumListView/?page='+page,\r\n        method:'get'\r\n    })\r\n}\r\nexport const  ForumCategory = () =>{\r\n    return axios.request({\r\n        url:`/api/forum/category/`,\r\n        method:'get'\r\n    })\r\n}\r\n\r\nexport const  ForumListSearch = (name,page,n) =>{\r\n    return axios.request({\r\n        url:n?`api/ForumListView/?title=${name}&page=${page}`:`/api/ForumListView/?category=${name}&page=${page}`,\r\n        method:'get'\r\n    })\r\n}\r\n\r\nexport const  ForumDetail = (id) =>{\r\n    return axios.request({\r\n        url:`/api/ForumListView/${id}`,\r\n        method:'get'\r\n    })\r\n}\r\nexport const  ForumComment = (token,data) =>{\r\n    return axios.request({\r\n        url:`/api/CommentView/`,\r\n        data,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'post'\r\n    })\r\n}\r\nexport const  ForumCommentRep = (data,token) =>{\r\n    return axios.request({\r\n        url:`/api/Parent_CommentView/`,\r\n        data,\r\n        headers: {\r\n            'Authorization':`JWT ${token}`\r\n        },\r\n        method:'post'\r\n    })\r\n}","import React,{Component,Fragment}  from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport {Icon, NavBar,List,Modal,WingBlank} from \"antd-mobile\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getToken} from '../utils/utils'\r\nimport Button from \"antd-mobile/lib/button\";\r\nconst Item = List.Item\r\nconst alert = Modal.alert;\r\n class LoginMain extends Component{\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        return(\r\n\r\n            <Fragment>\r\n                {this.props.type?  <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                        rightContent={\r\n                            this.props.name?<Link to='/person/message' style={{color:'#fff'}}><div className=' fa  fa-commenting-o'>{this.props.message.count>0?<b className='commenting'></b>:''}</div></Link>:''\r\n                        }\r\n                    >个人中心</NavBar>\r\n                    <div className=\"container\">\r\n                        <div className=\"container-header\">\r\n                            <div className='container-header-main'>\r\n                                <img src={this.props.image} alt=\"\"/>\r\n                                {this.props.name?<Link to='/person/info' className='user'><span>{this.props.name}</span><Icon type='right\r\n'/></Link>:<Link to='/login' className='user'>登录/注册</Link>}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/文章.png\"\r\n                            onClick={() => {getToken()?this.props.history.push('/person/article'):this.props.history.push('/login')}}\r\n                        >\r\n                            我的文章\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/帖子.png\"\r\n                            onClick={() => {getToken()?this.props.history.push('/person/forum'):this.props.history.push('/login')}}\r\n                        >\r\n                            我的帖子\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/我的粉丝.png\"\r\n                            onClick={() => {getToken()?this.props.history.push('/person/myFan'):this.props.history.push('/login')}}\r\n                        >\r\n                            我的粉丝\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/我的关注.png\"\r\n                            onClick={() => {getToken()?this.props.history.push('/person/myFollows'):this.props.history.push('/login')}}\r\n                        >\r\n                            我的关注\r\n                        </Item>\r\n                        {getToken()?<Button type='warning' style={{marginTop:20}}  onClick={() =>\r\n                            alert('提示', '确认退出登录?', [\r\n                                { text: '取消', onPress: () => console.log('cancel') },\r\n                                {\r\n                                    text: '确认',\r\n                                    onPress: () =>this.props.itemLogOut()\r\n                                    /*new Promise((resolve) => {\r\n                                        delToken()\r\n                                        Toast.info('退出成功', 1);\r\n                                        _this()\r\n                                        resolve()\r\n\r\n                                        //setTimeout(resolve, 1000);\r\n                                    }),*/\r\n                                },\r\n                            ])\r\n                        }>退出登录</Button>:''}\r\n                    </div>\r\n                </div>:  <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                    >个人中心</NavBar>\r\n                    <div className=\"container\">\r\n                        <div className=\"container-header\">\r\n                            <div className='container-header-main'>\r\n                                <img src={this.props.image} alt=\"\"/>\r\n                                <Link to={`/person/info/${this.props.id}`} className='user'>\r\n                                    <span>{this.props.name}</span>\r\n\r\n                                    <Icon type='right\r\n'/></Link>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/文章.png\"\r\n                            onClick={() => {this.props.history.push(`/person/article/${this.props.id}`)}}\r\n                        >\r\n                            文章\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/帖子.png\"\r\n                            onClick={() => {this.props.history.push(`/person/forum/${this.props.id}`)}}\r\n                        >\r\n                            帖子\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/我的粉丝.png\"\r\n                            onClick={() => {this.props.history.push(`/person/fan/${this.props.id}`)}}\r\n                        >\r\n                            粉丝\r\n                        </Item>\r\n                        <Item\r\n                            arrow=\"horizontal\"\r\n                            thumb=\"https://www.fengjinqi.com/static/img/我的关注.png\"\r\n                            onClick={() => {this.props.history.push(`/person/follows/${this.props.id}`)}}\r\n                        >\r\n                            关注\r\n                        </Item>\r\n                    </div>\r\n                </div>}\r\n\r\n\r\n            </Fragment>\r\n            )\r\n\r\n    }\r\n\r\n}\r\nLoginMain.propsTypes = {\r\n    name:PropTypes.string,\r\n    image:PropTypes.string,\r\n    itemLogOut:PropTypes.func,\r\n    history:PropTypes.func,\r\n    type:PropTypes.bool,\r\n    id:PropTypes.string\r\n\r\n\r\n}\r\nLoginMain.defaultProps = {\r\n     image:'https://www.fengjinqi.com/static/img/pc-icon.png',\r\n     type:true,\r\n     id:''\r\n}\r\nexport default LoginMain","import React,{Fragment} from 'react'\r\nimport {ActivityIndicator, Toast, WingBlank} from 'antd-mobile'\r\nimport {connect} from 'react-redux'\r\nimport './style.less'\r\nimport {getToken, delToken, delUser, setUser, getUser} from '../../utils/utils'\r\nimport {getMessageCountAxios, getMyInfoAxios} from './store/actionCreator'\r\nimport LoginMain from '../../components/LoginMain'\r\nclass Person extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            type:false,\r\n            _visite:false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInfo()\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            type:false,\r\n            _visite:false\r\n        })\r\n    }\r\n\r\n    /*componentDidUpdate(prevProps, prevState, snapshot) {\r\n        console.log(prevProps)\r\n        if(prevProps.info.detail&&prevProps.info.detail===\"Signature has expired.\"){\r\n            delToken()\r\n            Toast.fail('签名已过期,请重新登录',1)\r\n            this.props.history.push('/login')\r\n        }\r\n    }*/\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if(nextProps.info.detail){\r\n            delToken()\r\n            delUser()\r\n            Toast.fail('签名已过期,请重新登录',1)\r\n            this.props.history.push('/login')\r\n        }else{\r\n            setUser(nextProps.info[0])\r\n            console.log(getUser())\r\n        }\r\n        if(nextProps.info&&nextProps.myMessageType) this.setState({\r\n            type:true,\r\n            _visite:true\r\n        })\r\n    }\r\n    logout=()=>{\r\n        delToken()\r\n        delUser()\r\n        Toast.fail('退出成功',1)\r\n        this.setState({\r\n            _visite:false\r\n        })\r\n    }\r\n    render() {\r\n        const {info,myMessageType} = this.props\r\n        if (!getToken())return   <LoginMain  history={this.props.history}/>\r\n        if (!this.state.type){\r\n            return (\r\n                <div>\r\n                    <WingBlank>\r\n                        <ActivityIndicator toast text=\"正在加载\"  />\r\n                    </WingBlank>\r\n                </div>\r\n            )\r\n        } else{\r\n            return(\r\n\r\n                <Fragment>\r\n                    {this.state._visite&&info[0]?\r\n\r\n                        <LoginMain\r\n                            name={info[0].username}\r\n                            image={info[0].user_imag?info[0].user_imag:info[0].user_image?info[0].user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'}\r\n                            itemLogOut={this.logout.bind(this)}\r\n                            history={this.props.history}\r\n                            getInfo={this.props.getInfo.bind(this)}\r\n                            message={myMessageType}\r\n                        />:\r\n                        <LoginMain\r\n\r\n                            history={this.props.history}/>\r\n                    }\r\n                </Fragment>\r\n\r\n\r\n            )\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nconst mapState=(state)=>({\r\n    info:state.my.info,\r\n    error:state.my.error,\r\n    isShow:state.my.isShow,\r\n    myMessageType:state.my.myMessageType\r\n})\r\nconst mapDispatch=(dispatch)=>({\r\n    getInfo(){\r\n        if(getToken()){\r\n            dispatch(getMyInfoAxios(getToken()))\r\n            dispatch(getMessageCountAxios(getToken()))\r\n        }\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(Person)","import React from 'react'\r\nimport {Icon, NavBar} from \"antd-mobile\";\r\nimport '../../static/fonts/font-awesome-4.7.0/css/font-awesome.css'\r\nimport './style.less'\r\nimport {Login as getToken,getInfo} from '../../api/user'\r\nimport {Toast} from 'antd-mobile'\r\nimport {setToken,getQueryString,getToken as getJwt,setUser} from '../../utils/utils'\r\nclass Login extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            username:'',\r\n            password:'',\r\n            userrError:'',\r\n            passError:''\r\n        }\r\n        this.Change = this.Change.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        if(getJwt()) this.props.history.push('/person')\r\n    }\r\n\r\n    submit(){\r\n        var regex = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\r\n        if (!regex.test(this.state.username)) this.setState({userError:'请输入正确邮箱'})\r\n        if (!this.state.password) this.setState({passError:'请输入密码'})\r\n        if (regex.test(this.state.username)&&this.state.password){\r\n            let data ={\r\n                username:this.state.username,\r\n                password:this.state.password\r\n            }\r\n            getToken(data).then(res=>{\r\n                setToken(res.data.token)\r\n                //Toast.success('登录成功',1)\r\n                getInfo(getJwt()).then(res=>{\r\n                    setUser(res.data[0])\r\n                    if(getQueryString('next')){\r\n                        this.props.history.push(`${getQueryString('next')}`)\r\n                    }else{\r\n                        this.props.history.push('/person')\r\n                    }\r\n                })\r\n            }).catch(err=>{\r\n                console.log(err.response)\r\n                //Toast.fail(err.response.data.non_field_errors[0], 1);\r\n                Toast.fail('登录失败,请检查用户名与密码',3)\r\n            })\r\n        }\r\n    }\r\n    Change(e){\r\n        this.setState({\r\n            userError:'',\r\n            passError:''\r\n        })\r\n        if (e.target.name==='user'){\r\n            this.setState({\r\n                username:e.target.value\r\n            })\r\n        } else if(e.target.name === 'pass'){\r\n            this.setState({\r\n                password:e.target.value\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >登录</NavBar>\r\n                <div className='login-container'>\r\n                    <img src=\"../../static/img/logo.png\" alt=\"\"/>\r\n                    <div className='login-form'>\r\n                        <form className='from'>\r\n                            <div className=\"login-form-main\">\r\n                                <span className='fa fa-envelope-o'></span>\r\n                                <input type=\"email\" name='user' value={this.state.username} onChange={this.Change} placeholder='请输入邮箱'required/>\r\n                                <span  className='error'>{this.state.userError}</span>\r\n                            </div>\r\n                            <div className=\"login-form-main\">\r\n                                <span className='fa fa-key'></span>\r\n                                <input type=\"password\" name='pass' value={this.state.password} onChange={this.Change}  placeholder='请输入密码'required/>\r\n                                <span className='error'>{this.state.passError}</span>\r\n                            </div>\r\n                            <div className=\"login-form-main\">\r\n                                <input type=\"button\" onClick={this.submit.bind(this)} value='登录'/>\r\n                            </div>\r\n\r\n                        </form>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport  default Login","import React from 'react'\r\nexport default class NotFound extends React.Component{\r\n    render() {\r\n        return(\r\n            <div>404</div>\r\n        )\r\n    }\r\n}","import React,{Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport ReactDOM from 'react-dom'\r\nimport {Icon, NavBar,WingBlank,ActivityIndicator,PullToRefresh,ListView} from \"antd-mobile\";\r\nimport {HashRouter,NavLink} from 'react-router-dom'\r\nimport {getToken,getCommentCount} from \"../../utils/utils\";\r\nimport {getMyArticleListAxios,getMyArticleListPageAxios} from \"./store/actionCreator\";\r\nconst style={\r\n    position:'initial'\r\n}\r\nclass MyArticles extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state = {\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            isShow:true,\r\n            page:1,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n        };\r\n        this.changeState = this.changeState.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit()\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isShow:false,\r\n            isLoading: false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop,\r\n            page:(nextProps.myArticlePage.next ? ++this.state.page:'')\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     *TODO 下拉刷新\r\n     */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getInit()\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            this.props.getPage(this.state.page);\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                    <div className='list'>\r\n                        <div>\r\n                            <div className='list-header'>\r\n                                <div className='list-header-left one-txt-cut'>\r\n                                    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                    {rowData.authors.username}\r\n                                </div>\r\n                                <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                            </div>\r\n                            {rowData.list_pic?<div className='list-title'>\r\n                                <div className='list-title-left txt-cut'>{rowData.title}</div>\r\n                                <div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>\r\n                            </div>:<div className='list-title'style={{height:'auto'}}>\r\n                                <div className='list-title-left txt-cut'style={{width:'100%'}}>{rowData.title}</div>\r\n\r\n                            </div>}\r\n\r\n                            <div className='list-desc'>\r\n                                {rowData.desc}\r\n                            </div>\r\n                            <div className='list-footer'>\r\n                                <div className='list-footer-left'>\r\n                                    <span className='click'>{rowData.click_nums}</span>\r\n                                    <span className='comment'>\r\n                                    {getCommentCount(rowData)}\r\n                                </span>\r\n                                </div>\r\n                                <div className='list-footer-right'><NavLink to={{pathname:`/article/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <NavBar\r\n                    style={style}\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >我的文章</NavBar>\r\n                <ListView\r\n                    ref={el => this.lv = el}\r\n                    dataSource={this.state.dataSource}\r\n                    renderRow={row}\r\n                    useBodyScroll={this.state.useBodyScroll}\r\n                    style={{\r\n                        height: this.state.height,\r\n                    }}\r\n                    renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                        {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                    </div>)}\r\n                    pullToRefresh={<PullToRefresh\r\n\r\n                        refreshing={this.state.refreshing}\r\n                        onRefresh={this.onRefresh}\r\n                    />}\r\n                    onEndReached={this.onEndReached}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState=(state)=>({\r\n    list:state.my.myArticle,\r\n    myArticlePage:state.my.myArticlePage\r\n})\r\nconst mapDispatch=(dispatch) =>({\r\n    getInit(){\r\n        dispatch(getMyArticleListAxios(getToken()))\r\n    },\r\n    getPage(page){\r\n        dispatch(getMyArticleListPageAxios(page,getToken()))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(MyArticles)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { getMyForumListAxios, getMyForumListPageAxios} from \"./store/actionCreator\";\r\nimport {getForumCommentCount, getToken} from \"../../utils/utils\";\r\nimport {ActivityIndicator, Icon, ListView, NavBar, PullToRefresh, WingBlank} from \"antd-mobile\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {HashRouter, NavLink} from \"react-router-dom\";\r\nconst style={\r\n    position:'initial'\r\n}\r\nclass MyForum extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state = {\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            isShow:true,\r\n            page:1,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n        };\r\n        this.changeState = this.changeState.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit()\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isShow:false,\r\n            isLoading: false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop,\r\n            page:(nextProps.myForumPage.next ? ++this.state.page:'')\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     *TODO 下拉刷新\r\n     */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getInit()\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            this.props.getPage(this.state.page);\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                    <div className='list'>\r\n                        <div>\r\n                            <div className='list-header'>\r\n                                <div className='list-header-left one-txt-cut'>\r\n                                    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                    {rowData.authors.username}\r\n                                </div>\r\n                                <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                            </div>\r\n                            <div className='list-title'style={{height:'auto'}}>\r\n                                <div className='list-title-left txt-cut'style={{width:'100%'}}>{rowData.title}</div>\r\n                                {/*<div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>*/}\r\n                            </div>\r\n                            <div className='list-desc'>\r\n                                {rowData.desc}\r\n                            </div>\r\n                            <div className='list-footer'>\r\n                                <div className='list-footer-left'>\r\n                                    <span className='click'>{rowData.click_nums}</span>\r\n                                    <span className='comment'>\r\n                                    {getForumCommentCount(rowData)}\r\n                                </span>\r\n                                </div>\r\n                                <div className='list-footer-right'><NavLink to={{pathname:`/forum/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <NavBar\r\n                    style={style}\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >我的帖子</NavBar>\r\n                <ListView\r\n                    ref={el => this.lv = el}\r\n                    dataSource={this.state.dataSource}\r\n                    renderRow={row}\r\n                    useBodyScroll={this.state.useBodyScroll}\r\n                    style={{\r\n                        height: this.state.height,\r\n                    }}\r\n                    renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                        {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                    </div>)}\r\n                    pullToRefresh={<PullToRefresh\r\n\r\n                        refreshing={this.state.refreshing}\r\n                        onRefresh={this.onRefresh}\r\n                    />}\r\n                    onEndReached={this.onEndReached}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    list:state.my.myForum,\r\n    myForumPage:state.my.myForumPage\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getInit() {\r\n        dispatch(getMyForumListAxios(getToken()))\r\n    },\r\n    getPage(page){\r\n        dispatch(getMyForumListPageAxios(page,getToken()))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(MyForum)","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { getFanAxios} from \"./store/actionCreator\";\r\nimport {getToken, getUser} from \"../../utils/utils\";\r\nimport {ActivityIndicator, Icon, NavBar, WingBlank, Button, Toast} from \"antd-mobile\";\r\nimport {addMyFan} from './../../api/article'\r\nimport {Link} from \"react-router-dom\";\r\nimport {delOhtersFollows} from \"../../api/user\";\r\nlet user_id =JSON.parse(getUser())?JSON.parse(getUser()).id:''\r\nclass MyForum extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isShow:true,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit()\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.setState({\r\n            isShow:false,\r\n        });\r\n    }\r\n    add(e){\r\n        let data={\r\n            follow:e.fan.id,\r\n            fan:e.follow.id\r\n        }\r\n        addMyFan(data,getToken()).then(res=>{\r\n            Toast.success(res.data.message, 1);\r\n            this.props.getInit()\r\n\r\n        })\r\n    }\r\n    del(e){\r\n        if(!getToken()){\r\n            this.props.history.push(`/login/?next=/person/${this.props.match.params.id}`);\r\n            return\r\n        }\r\n        let data={\r\n            id:e.fan.id,\r\n            access:e.access,\r\n            user_id:user_id\r\n        }\r\n        delOhtersFollows(e.id,user_id,'fan',user_id,getToken(),data).then(res=>{\r\n            Toast.info(res.data.message,1)\r\n            this.props.getInit()\r\n        })\r\n    }\r\n    render() {\r\n        const {list} = this.props\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                    >我的粉丝</NavBar>\r\n\r\n\r\n                </div>\r\n                <div className='fan'>\r\n                    {list.results?list.results.map(item=>{\r\n                        return(\r\n                            <div key={item.id} className='fan-main'>\r\n                                <div>\r\n                                    <Link to={`/person/${item.fan.id}`}>\r\n                                            <img src={item.fan.user_imag?item.fan.user_imag:item.fan.user_image?item.fan.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></Link>\r\n                                </div>\r\n                                <div className='fan-main-user'>{item.fan.username}</div>\r\n                                <div>{item.access?<Button type='primary'inline size=\"small\"onClick={()=>this.del(item)}>已关注</Button>:<Button type='ghost'inline size=\"small\" onClick={()=>this.add(item)}>关注</Button>}</div>\r\n\r\n                            </div>\r\n                        )\r\n                    }):''}\r\n                </div>\r\n\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    list:state.my.myFan,\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getInit() {\r\n        dispatch(getFanAxios(getToken()))\r\n    },\r\n})\r\nexport default connect(mapState,mapDispatch)(MyForum)","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getFollowAxios} from \"./store/actionCreator\";\r\nimport {getToken} from \"../../utils/utils\";\r\nimport {ActivityIndicator, Icon, NavBar, WingBlank, Button, Toast} from \"antd-mobile\";\r\nimport {delMyFan} from './../../api/article'\r\nimport { Link} from \"react-router-dom\";\r\n\r\nclass MyFollows extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isShow:true,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit()\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.setState({\r\n            isShow:false,\r\n        });\r\n    }\r\n    del(e){\r\n        delMyFan(e,getToken()).then(res=>{\r\n            if(res.status===204){\r\n                Toast.success('取消关注成功', 1);\r\n                this.props.getInit()\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const {list} = this.props\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                    >我的关注</NavBar>\r\n\r\n\r\n                </div>\r\n                <div className='fan'>\r\n                    {list.results?list.results.map(item=>{\r\n                        return(\r\n                            <div key={item.id} className='fan-main'>\r\n                                <div>\r\n                                    <Link to={`/person/${item.follow.id}`}>\r\n                                            <img src={item.follow.user_imag?item.follow.user_imag:item.follow.user_image?item.follow.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></Link>\r\n\r\n                                </div>\r\n                                <div className='fan-main-user'>{item.follow.username}</div>\r\n                                <div><Button type='primary'inline size=\"small\" onClick={()=>this.del(item.id)}>取消关注</Button></div>\r\n\r\n                            </div>\r\n                        )\r\n                    }):''}\r\n                </div>\r\n\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    list:state.my.myFollow,\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getInit() {\r\n        dispatch(getFollowAxios(getToken()))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(MyFollows)","import React,{Fragment} from 'react'\r\nimport {Icon, NavBar,Toast} from \"antd-mobile\";\r\nimport {connect} from 'react-redux'\r\nimport {getToken, delToken, setUser, delUser} from \"../../utils/utils\";\r\nimport {getMyInfoAxios} from \"./store/actionCreator\";\r\nimport {putInfoImg} from \"../../api/user\";\r\nclass Info extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            type:false,\r\n            username:'',\r\n            info:'',\r\n            position:'',\r\n            list_pic:''\r\n        }\r\n        this.change = this.change.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInfo()\r\n        this.ImagePicker = this.ImagePicker.bind(this)\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if(nextProps.info){\r\n            setUser(nextProps.info[0])\r\n            this.setState({\r\n                username:nextProps.info[0].username,\r\n                info:nextProps.info[0].info,\r\n                position:nextProps.info[0].position\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上传头像\r\n     * @param e\r\n     * @constructor\r\n     */\r\n    ImagePicker(e){\r\n        //let form = new FormData()\r\n        let reads =new FileReader()\r\n        reads.readAsDataURL(this.lv.files[0])\r\n        reads.onload=(e)=>{\r\n            this.img.src=e.target.result\r\n        }\r\n       /* let i;\r\n        for ( i in e) {\r\n          form.append(i,e[i])\r\n        }\r\n        form.append('list_pic',this.lv.files[0])*/\r\n        this.setState({\r\n            list_pic:this.lv.files[0]\r\n        })\r\n\r\n    }\r\n    submit(e){\r\n        let form = new FormData()\r\n        form.append('info',this.state.info)\r\n        form.append('username',this.state.username)\r\n        form.append('position',this.state.position)\r\n        form.append('list_pic',this.state.list_pic)\r\n        Toast.loading('loading',0)\r\n        putInfoImg(e.id,getToken(),form).then(res=>{\r\n            Toast.hide()\r\n            if(res.data.success=='ok'){\r\n                delToken()\r\n                delUser()\r\n                Toast.success('修改成功，重新登录',1)\r\n                this.props.history.push('/login')\r\n            }else{\r\n                Toast.success('修改失败',1)\r\n            }\r\n        })\r\n    }\r\n    change(e){\r\n        if (e.target.name==='username'){\r\n            this.setState({\r\n                username:e.target.value\r\n            })\r\n        } else if(e.target.name === 'info'){\r\n            this.setState({\r\n                info:e.target.value\r\n            })\r\n        }else if(e.target.name === 'position'){\r\n            this.setState({\r\n                position:e.target.value\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        let {info} = this.props\r\n        const row = ()=>{\r\n            if (info[0]){\r\n                return (\r\n                    <Fragment>\r\n                        <li style={{position:'relative'}}>头像 {this.state.type?<input type=\"file\" onChange={()=>this.ImagePicker(info[0])} ref={img=>this.lv=img} accept='image/*'/>:''}<img ref={img=>this.img=img} src={info[0].user_imag?info[0].user_imag:info[0].user_image?info[0].user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></li>\r\n                      {/*  <li><Link to={{pathname:`/person/update/`,state:info[0],query:'昵称'}}>昵称 <span>{info[0].username}</span></Link></li>*/}\r\n                        <li>昵称\r\n                            {this.state.type?<input type=\"text\" name='username' onChange={this.change} value={this.state.username} />:<span>{info[0].username}</span>}\r\n                            </li>\r\n                        <li>职位{this.state.type?<input type=\"text\" name='position' onChange={this.change} value={this.state.position} />:<span>{info[0].position}</span>}</li>\r\n                        <li>简介 {this.state.type? <textarea name=\"info\" maxLength='100'style={{flex:'1',width:'100%',paddingLeft:'15px',height:'60px',border:'none'}} onChange={this.change} value={this.state.info}></textarea>:<span>{info[0].info}</span>}</li>\r\n                    </Fragment>\r\n\r\n                )\r\n            }\r\n        }\r\n        return(\r\n            <Fragment>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                    rightContent={\r\n                        this.state.type?<div onClick={()=>this.submit(info[0])}>提交</div>:<div onClick={()=>this.setState({type:true})}>修改</div>\r\n\r\n                    }\r\n                >个人信息</NavBar>\r\n                <ul className='container info'>\r\n                    {row()}\r\n                </ul>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState = (state)=>({\r\n    info:state.my.info,\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getInfo(){\r\n        if(getToken()){dispatch(getMyInfoAxios(getToken()))}\r\n    }\r\n\r\n})\r\nexport default connect(mapState,mapDispatch)(Info)","import React,{Fragment} from 'react'\r\nimport {Icon, NavBar,Toast} from \"antd-mobile\";\r\nimport {connect} from 'react-redux'\r\nimport {getToken} from \"../../utils/utils\";\r\nimport { createForm } from 'rc-form';\r\nimport {putInfoImg} from \"../../api/user\";\r\nclass InfoUpdate extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            username:'',\r\n            info:'',\r\n            position:'',\r\n            list_pic:''\r\n        }\r\n        this.change = this.change.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n        if(!this.props.location.state){\r\n            this.props.history.goBack()\r\n        }else{\r\n            this.setState({\r\n                username:this.props.location.state.username,\r\n                //list_pic:this.props.location.state.user_imag,\r\n                info:this.props.location.state.info,\r\n                position:this.props.location.state.position\r\n            })\r\n\r\n        }\r\n\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n\r\n    }\r\n    submit(e){\r\n        Toast.loading('loading',0)\r\n        putInfoImg(e.id,getToken(),this.state).then(res=>{\r\n            Toast.hide()\r\n            if(res.status==200){\r\n                Toast.success('修改成功',1)\r\n                this.props.history.goBack()\r\n            }else{\r\n                Toast.success('修改失败',1)\r\n            }\r\n        })\r\n    }\r\n    change(e){\r\n        this.setState({\r\n            username:e.target.value\r\n        })\r\n    }\r\n    render() {\r\n        const { getFieldProps } = this.props.form;\r\n\r\n        const {location} = this.props\r\n        return(\r\n            <Fragment>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                    rightContent={\r\n                       <div onClick={()=>this.submit(this.props.location.state)}>保存</div>\r\n\r\n                    }\r\n                >资料修改</NavBar>\r\n                <div className='infoupdate'>\r\n                    {this.props.location.query}<input type=\"text\" name='username' placeholder='请输入' value={this.state.username} onChange={this.change}/>\r\n                  {/*  <List>\r\n                        <List.Item>\r\n                            <InputItem\r\n                                {...getFieldProps('autofocus')}\r\n                                clear\r\n                                placeholder=\"请输入\"\r\n                                ref={el => this.autoFocusInst = el}\r\n                                defaultValue={location.state.username}\r\n                            >{location.query}</InputItem>\r\n                        </List.Item>\r\n                    </List>*/}\r\n\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState = (state)=>({\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n\r\n\r\n})\r\n\r\nconst BasicInputExampleWrapper = createForm()(InfoUpdate);\r\nexport default connect(mapState,mapDispatch)(BasicInputExampleWrapper)","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Icon, NavBar,List,SwipeAction,Toast,Modal} from \"antd-mobile\";\r\nimport {appGetMessage,appPutMessage} from '../../api/user'\r\nimport {getToken} from \"../../utils/utils\";\r\n\r\nclass myMessageList extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state ={\r\n            data:[],\r\n            modal1:false,\r\n            message:null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n    getList(){\r\n        Toast.loading('加载中...',0)\r\n        appGetMessage(getToken()).then(res=>{\r\n            Toast.hide()\r\n            console.log(res)\r\n            if (res.status===200){\r\n                this.setState({\r\n                    data:res.data\r\n                })\r\n            }\r\n        })\r\n    }\r\n    update(e){\r\n        e.has_read=true\r\n        appPutMessage(getToken(),e,e.id).then(res=>{\r\n            console.log(res)\r\n           window.location.reload()\r\n        })\r\n    }\r\n    go(e){\r\n        if(e.url){\r\n            window.location.href=window.location.origin+'/#'+e.url\r\n        }else{\r\n            this.setState({\r\n                modal1:true,\r\n                message:e.message\r\n            })\r\n        }\r\n\r\n    }\r\n    showModal = key => (e) => {\r\n        e.preventDefault(); // 修复 Android 上点击穿透\r\n        this.setState({\r\n            [key]: true,\r\n        });\r\n    }\r\n    onClose = key => () => {\r\n        this.setState({\r\n            [key]: false,\r\n        });\r\n    }\r\n    render() {\r\n        let data = this.state.data\r\n        return(\r\n\r\n            <div>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >消息列表</NavBar>\r\n                <List style={{paddingTop:'45px'}}>\r\n                    {this.state.data?\r\n                        data.map((item,index)=>{\r\n                            console.log(item)\r\n                            if (item.has_read==true){\r\n                                return(\r\n                                    <SwipeAction\r\n                                        key={item.id}\r\n                                        style={{ backgroundColor: 'gray' }}\r\n                                        autoClose\r\n                                        right={[\r\n                                            {\r\n                                                text: '删除',\r\n                                                onPress: () => this.del(item),\r\n                                                style: { backgroundColor: '#F4333C', color: 'white' },\r\n                                            },\r\n                                        ]}\r\n                      /*                  onOpen={() => console.log('global open')}\r\n                                        onClose={() => console.log('global close')}*/\r\n                                    >\r\n                                        <List.Item\r\n                                            // extra=\"More\"\r\n                                            arrow=\"horizontal\"\r\n                                            onClick={e =>this.go(item)}\r\n                                        >\r\n                                            {item.message}\r\n                                        </List.Item>\r\n                                    </SwipeAction>\r\n                                )\r\n                            } else{\r\n                                return(\r\n                                    <SwipeAction\r\n                                        key={item.id}\r\n                                        style={{ backgroundColor: 'gray' }}\r\n                                        autoClose\r\n                                        right={[\r\n                                            {\r\n                                                text: '已读',\r\n                                                onPress: ()=>this.update(item),\r\n                                                style: { backgroundColor: '#ddd', color: 'white' },\r\n                                            },\r\n                                            {\r\n                                                text: '删除',\r\n                                                onPress: () => this.del(item),\r\n                                                style: { backgroundColor: '#F4333C', color: 'white' },\r\n                                            },\r\n                                        ]}\r\n                                  /*      onOpen={() => console.log('global open')}\r\n                                        onClose={() => console.log('global close')}*/\r\n                                    >\r\n                                        <List.Item\r\n                                            arrow=\"horizontal\"\r\n                                            onClick={e =>this.go(item)}\r\n                                        >\r\n                                           <b className='commenting'style={{display:'inline-block'}}></b> {item.message}\r\n                                        </List.Item>\r\n                                    </SwipeAction>\r\n                                )\r\n                            }\r\n\r\n                        }):''\r\n                    }\r\n\r\n\r\n                </List>\r\n                <Modal\r\n                    visible={this.state.modal1}\r\n                    transparent\r\n                    maskClosable={false}\r\n                    onClose={this.onClose('modal1')}\r\n                    title=\"提示\"\r\n                    footer={[{ text: 'Ok', onPress: () => { console.log('ok'); this.onClose('modal1')(); } }]}\r\n                >\r\n\r\n                    <p id='p' dangerouslySetInnerHTML={{ __html:this.state.message }}  />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(myMessageList)","import React,{Fragment} from 'react'\r\nimport {ActivityIndicator, WingBlank} from 'antd-mobile'\r\nimport {connect} from 'react-redux'\r\nimport './style.less'\r\nimport {getOhtersInfo} from './../../api/user'\r\nimport LoginMain from '../../components/LoginMain'\r\nimport {getToken, getUser} from \"../../utils/utils\";\r\nclass OthersPerson extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            type:false,\r\n            data:null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getInfo(this.props.match.params.id)\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            type:false,\r\n        })\r\n    }\r\n    getInfo(id){\r\n        getOhtersInfo(id).then(res=>{\r\n            this.setState({\r\n                type:true,\r\n                data:res.data\r\n            })\r\n        })\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n    }\r\n    render() {\r\n        if (!this.state.type){\r\n            return (\r\n                <div>\r\n                    <WingBlank>\r\n                        <ActivityIndicator toast text=\"正在加载\"  />\r\n                    </WingBlank>\r\n                </div>\r\n            )\r\n        } else{\r\n            return(\r\n\r\n                <Fragment>\r\n                   <LoginMain\r\n                        name={this.state.data.username}\r\n                        type={false}\r\n                        image={this.state.data.user_imag?this.state.data.user_imag:this.state.data.user_image?this.state.data.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'}\r\n                        id={this.state.data.id}\r\n                        history={this.props.history}\r\n                   />\r\n                </Fragment>\r\n\r\n\r\n            )\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nconst mapState=(state)=>({\r\n\r\n})\r\nconst mapDispatch=(dispatch)=>({\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersPerson)","import React,{Fragment} from 'react'\r\nimport {ActivityIndicator, Icon, NavBar} from \"antd-mobile\";\r\nimport {connect} from 'react-redux'\r\nimport {getOhtersInfo} from \"../../../api/user\";\r\nclass OthersInfo extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            type:true,\r\n            info:null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getInfo(this.props.match.params.id)\r\n    }\r\n    getInfo(id){\r\n        getOhtersInfo(id).then(res=>{\r\n            this.setState({\r\n                type:false,\r\n                info:res.data\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        let {info} = this.state\r\n        const row = ()=>{\r\n            if (info){\r\n                return (\r\n                    <Fragment>\r\n                        <li style={{position:'relative'}}>头像 {this.state.type?<input type=\"file\" onChange={()=>this.ImagePicker(info[0])} ref={img=>this.lv=img} accept='image/*'/>:''}<img ref={img=>this.img=img} src={info.user_imag?info.user_imag:info.user_image?info.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></li>\r\n                        <li>昵称\r\n                            <span>{info.username}</span>\r\n                            </li>\r\n                        <li>职位<span>{info.position}</span></li>\r\n                        <li>简介  <span>{info.info}</span></li>\r\n                    </Fragment>\r\n\r\n                )\r\n            }\r\n        }\r\n        return(\r\n            <Fragment>\r\n                <ActivityIndicator toast text=\"正在加载\"animating={this.state.type}  />\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >个人信息</NavBar>\r\n                <ul className='container info'>\r\n                    {row()}\r\n                </ul>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState = (state)=>({\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n\r\n\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersInfo)","import React,{Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport ReactDOM from 'react-dom'\r\nimport {Icon, NavBar,WingBlank,ActivityIndicator,PullToRefresh,ListView} from \"antd-mobile\";\r\nimport {HashRouter,NavLink} from 'react-router-dom'\r\nimport {getCommentCount} from \"../../../utils/utils\";\r\nimport {getOthersArticleListAxios, getOthersArticleListPageAxios} from \"./../store/actionCreator\";\r\nconst style={\r\n    position:'initial'\r\n}\r\nclass OthersArticles extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state = {\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            isShow:true,\r\n            page:1,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n        };\r\n        this.changeState = this.changeState.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit(this.props.match.params.id)\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isShow:false,\r\n            isLoading: false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop,\r\n            page:(nextProps.myArticlePage.next ? ++this.state.page:'')\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     *TODO 下拉刷新\r\n     */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getInit(this.props.match.params.id)\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            this.props.getPage(this.props.match.params.id,this.state.page);\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                    <div className='list'>\r\n                        <div>\r\n                            <div className='list-header'>\r\n                                <div className='list-header-left one-txt-cut'>\r\n                                    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                    {rowData.authors.username}\r\n                                </div>\r\n                                <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                            </div>\r\n                            {rowData.list_pic?<div className='list-title'>\r\n                                <div className='list-title-left txt-cut'>{rowData.title}</div>\r\n                                <div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>\r\n                            </div>:<div className='list-title' style={{height:'auto'}}>\r\n                                <div className='list-title-left txt-cut'style={{width:'100%'}}>{rowData.title}</div>\r\n\r\n                            </div>}\r\n\r\n                            <div className='list-desc'>\r\n                                {rowData.desc}\r\n                            </div>\r\n                            <div className='list-footer'>\r\n                                <div className='list-footer-left'>\r\n                                    <span className='click'>{rowData.click_nums}</span>\r\n                                    <span className='comment'>\r\n                                    {getCommentCount(rowData)}\r\n                                </span>\r\n                                </div>\r\n                                <div className='list-footer-right'><NavLink to={{pathname:`/article/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <NavBar\r\n                    style={style}\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >文章</NavBar>\r\n                <ListView\r\n                    ref={el => this.lv = el}\r\n                    dataSource={this.state.dataSource}\r\n                    renderRow={row}\r\n                    useBodyScroll={this.state.useBodyScroll}\r\n                    style={{\r\n                        height: this.state.height,\r\n                    }}\r\n                    renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                        {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                    </div>)}\r\n                    pullToRefresh={<PullToRefresh\r\n\r\n                        refreshing={this.state.refreshing}\r\n                        onRefresh={this.onRefresh}\r\n                    />}\r\n                    onEndReached={this.onEndReached}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState=(state)=>({\r\n    list:state.my.otherArticle,\r\n    myArticlePage:state.my.otherArticlePage\r\n})\r\nconst mapDispatch=(dispatch) =>({\r\n    getInit(id){\r\n        dispatch(getOthersArticleListAxios(id))\r\n    },\r\n    getPage(id,page){\r\n        dispatch(getOthersArticleListPageAxios(id,page))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersArticles)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getForumCommentCount} from \"../../../utils/utils\";\r\nimport {ActivityIndicator, Icon, ListView, NavBar, PullToRefresh, WingBlank} from \"antd-mobile\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {HashRouter, NavLink} from \"react-router-dom\";\r\nimport {getOthersForumListAxios, getOthersForumListPagesAxios} from \"../store/actionCreator\";\r\nconst style={\r\n    position:'initial'\r\n}\r\nclass OthersForum extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state = {\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            isShow:true,\r\n            page:1,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n        };\r\n        this.changeState = this.changeState.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInit(this.props.match.params.id,)\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isShow:false,\r\n            isLoading: false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop,\r\n            page:(nextProps.myForumPage.next ? ++this.state.page:'')\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     *TODO 下拉刷新\r\n     */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getInit(this.props.match.params.id,)\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            this.props.getPage(this.props.match.params.id,this.state.page);\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                    <div className='list'>\r\n                        <div>\r\n                            <div className='list-header'>\r\n                                <div className='list-header-left one-txt-cut'>\r\n                                    <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                    {rowData.authors.username}\r\n                                </div>\r\n                                <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                            </div>\r\n                            <div className='list-title'style={{height:'auto'}}>\r\n                                <div className='list-title-left txt-cut'style={{width:'100%'}}>{rowData.title}</div>\r\n                                {/*<div className='list-title-right'><img src={rowData.list_pic} alt=\"\"/></div>*/}\r\n                            </div>\r\n                            <div className='list-desc'>\r\n                                {rowData.desc}\r\n                            </div>\r\n                            <div className='list-footer'>\r\n                                <div className='list-footer-left'>\r\n                                    <span className='click'>{rowData.click_nums}</span>\r\n                                    <span className='comment'>\r\n                                    {getForumCommentCount(rowData)}\r\n                                </span>\r\n                                </div>\r\n                                <div className='list-footer-right'><NavLink to={{pathname:`/article/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <NavBar\r\n                    style={style}\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                >我的帖子</NavBar>\r\n                <ListView\r\n                    ref={el => this.lv = el}\r\n                    dataSource={this.state.dataSource}\r\n                    renderRow={row}\r\n                    useBodyScroll={this.state.useBodyScroll}\r\n                    style={{\r\n                        height: this.state.height,\r\n                    }}\r\n                    renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                        {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                    </div>)}\r\n                    pullToRefresh={<PullToRefresh\r\n\r\n                        refreshing={this.state.refreshing}\r\n                        onRefresh={this.onRefresh}\r\n                    />}\r\n                    onEndReached={this.onEndReached}\r\n                />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    list:state.my.otherForum,\r\n    myForumPage:state.my.otherForumPage\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getInit(id) {\r\n        dispatch(getOthersForumListAxios(id))\r\n    },\r\n    getPage(id,page){\r\n        dispatch(getOthersForumListPagesAxios(id,page))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersForum)","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getToken, getUser} from \"../../../utils/utils\";\r\nimport {ActivityIndicator, Icon, NavBar, WingBlank, Button, Toast} from \"antd-mobile\";\r\nimport {delOhtersFollows, getOhtersFan} from './../../../api/user'\r\nimport {addMyFan} from './../../../api/article'\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nlet user_id =JSON.parse(getUser())?JSON.parse(getUser()).id:''\r\nclass OthersFan extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShow:true,\r\n            list:null\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.getInit()\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            isShow:true,\r\n            list:null\r\n        })\r\n    }\r\n\r\n    getInit(){\r\n        getOhtersFan(this.props.match.params.id,user_id).then(res=>{\r\n            this.setState({\r\n                isShow:false,\r\n                list:res.data\r\n            })\r\n        })\r\n    }\r\n    del(e){\r\n        if(!getToken()){\r\n            this.props.history.push(`/login/?next=/person/${this.props.match.params.id}`);\r\n            return\r\n        }\r\n        let data={\r\n            id:e.fan.id,\r\n            access:e.access,\r\n            user_id:user_id\r\n        }\r\n        delOhtersFollows(e.id,this.props.match.params.id,'fan',user_id,getToken(),data).then(res=>{\r\n            Toast.info(res.data.message,1)\r\n            this.getInit()\r\n        })\r\n\r\n    }\r\n    add(e){\r\n        if(!getToken()){\r\n            this.props.history.push(`/login/?next=/person/${this.props.match.params.id}`);\r\n            return\r\n        }\r\n        let data={\r\n            follow:e.fan.id,\r\n            fan:user_id\r\n        }\r\n        addMyFan(data,getToken()).then(res=>{\r\n            Toast.success(res.data.message, 1);\r\n            this.getInit()\r\n        })\r\n    }\r\n    render() {\r\n        const {list} = this.state\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                    >粉丝</NavBar>\r\n\r\n                </div>\r\n                <div className='fan'>\r\n                    {list?list.map(item=>{\r\n                        return(\r\n                            <div key={item.id} className='fan-main'>\r\n                                <div>\r\n                                    {getUser()?<Link to={JSON.parse(getUser()).id===item.fan.id?`/person/`:`/person/${item.fan.id}`}>\r\n                                        <img src={item.fan.user_imag?item.fan.user_imag:item.fan.user_image?item.fan.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                    </Link>:<Link to={`/person/${item.fan.id}`}>\r\n                                        <img src={item.fan.user_imag?item.fan.user_imag:item.fan.user_image?item.fan.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                    </Link>}\r\n\r\n\r\n                                </div>\r\n                                <div className='fan-main-user'>{item.fan.username}</div>\r\n                                <div>{item.access?<Button type='primary'inline size=\"small\" onClick={()=>this.del(item)}>已关注</Button>:<Button type='ghost'inline size=\"small\" onClick={()=>this.add(item)}>关注</Button>}</div>\r\n\r\n                            </div>\r\n                        )\r\n                    }):''}\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersFan)","import React,{Component,Fragment} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getToken, getUser} from \"../../../utils/utils\";\r\nimport {ActivityIndicator, Icon, NavBar, WingBlank, Button, Toast} from \"antd-mobile\";\r\nimport {addMyFan} from './../../../api/article'\r\nimport {getOhtersFollows,delOhtersFollows} from './../../../api/user'\r\nimport {Link} from \"react-router-dom\";\r\nlet user_id =JSON.parse(getUser())?JSON.parse(getUser()).id:''\r\nclass OthersFollows extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShow:true,\r\n            list:null\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.getInit()\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            isShow:true,\r\n            list:null\r\n        })\r\n    }\r\n    getInit(){\r\n        getOhtersFollows(this.props.match.params.id,user_id).then(res=>{\r\n            this.setState({\r\n                isShow:false,\r\n                list:res.data\r\n            })\r\n        })\r\n    }\r\n    del(e){\r\n        if(!getToken()){\r\n            this.props.history.push(`/login/?next=/person/${this.props.match.params.id}`);\r\n            return\r\n        }\r\n        let data={\r\n            id:e.follow.id,\r\n            access:e.access,\r\n            user_id:user_id\r\n        }\r\n        console.log(data)\r\n        delOhtersFollows(e.id,this.props.match.params.id,'follow',user_id,getToken(),data).then(res=>{\r\n            Toast.info(res.data.message,1)\r\n            this.getInit()\r\n        })\r\n\r\n    }\r\n    add(e){\r\n        if(!getToken()){\r\n            this.props.history.push(`/login/?next=/person/${this.props.match.params.id}`);\r\n            return\r\n        }\r\n        let data={\r\n            follow:e.follow.id,\r\n            fan:user_id\r\n        }\r\n        addMyFan(data,getToken()).then(res=>{\r\n            console.log(res)\r\n            Toast.success(res.data.message, 1);\r\n            this.getInit()\r\n        })\r\n    }\r\n    render() {\r\n        const {list} = this.state\r\n        return(\r\n            <Fragment>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow}  />\r\n                </WingBlank>\r\n                <div>\r\n                    <NavBar\r\n                        mode=\"dark\"\r\n                        icon={<Icon type=\"left\" />}\r\n                        onLeftClick={() => this.props.history.goBack()}\r\n                    >关注</NavBar>\r\n\r\n                </div>\r\n                <div className='fan'>\r\n                    {list?list.map(item=>{\r\n                        return(\r\n                            <div key={item.id} className='fan-main'>\r\n                                <div>\r\n                                    {getUser()?<Link to={JSON.parse(getUser()).id===item.follow.id?'/person/':`/person/${item.follow.id}`}>\r\n                                        <img src={item.follow.user_imag?item.follow.user_imag:item.follow.user_image?item.follow.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                    </Link>:\r\n                                        <Link to={`/person/${item.fan.id}`}>\r\n                                            <img src={item.follow.user_imag?item.follow.user_imag:item.follow.user_image?item.follow.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                        </Link>}\r\n\r\n                                    </div>\r\n                                <div className='fan-main-user'>{item.follow.username}</div>\r\n                                <div>{item.access?<Button type='primary' inline size=\"small\" onClick={()=>this.del(item)}>已关注</Button>:<Button type='ghost'inline size=\"small\" onClick={()=>this.add(item)}>关注</Button>}</div>\r\n\r\n                            </div>\r\n                        )\r\n                    }):''}\r\n                </div>\r\n\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n})\r\nexport default connect(mapState,mapDispatch)(OthersFollows)","export const FORUM_LIST = 'forum/LIST';\r\n\r\nexport const FORUM_LIST_PAGE = 'forum/LIST_PAGE';\r\nexport const FORUM_LIST_SEARCH = 'forum/LIST_SEARCH';\r\nexport const FORUM_LIST_SEARCH_PAGE = 'forum/LIST_SEARCH_PAGE';\r\nexport const FORUM_DETSILE = 'forum/DETSILE';\r\nexport const DEL = 'forum/DEL';\r\n\r\n","\r\nimport * as actionTypes from './actionTypes';\r\nconst defaultState ={\r\n\tforumList: [],\r\n    list:[],\r\n\tdetail:[]\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.FORUM_LIST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tforumList: action.data,\r\n\t\t\t\tlist:action.data.results,\r\n\r\n\t\t\t}\r\n\t\tcase actionTypes.FORUM_LIST_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tforumList: action.data,\r\n\t\t\t\tlist:state.list.concat(action.data.results)\r\n\r\n\t\t\t}\r\n\t\tcase actionTypes.FORUM_LIST_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tforumList: action.data,\r\n\t\t\t\tlist:action.data.results,\r\n\r\n\t\t\t}\r\n\t\tcase actionTypes.FORUM_LIST_SEARCH_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tforumList: action.data,\r\n\t\t\t\tlist:state.list.concat(action.data.results)\r\n\r\n\t\t\t}\r\n\t\t\tcase actionTypes.FORUM_DETSILE:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tdetail:action.data\r\n\t\t\t\t}\r\n\t\tcase actionTypes.DEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdetail:[]\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {ForumList,ForumDetail,ForumListPage,ForumListSearch} from '../../../api/forum';\r\n\r\nimport * as actionTypes from './actionTypes';\r\n\r\n\r\n\r\nexport const getListAction = (data)=>({\r\n\ttype:actionTypes.FORUM_LIST,\r\n\tdata\r\n})\r\nexport const getListActionPage = (data)=>({\r\n\ttype:actionTypes.FORUM_LIST_PAGE,\r\n\tdata\r\n})\r\n\r\nexport const getListActionAxios = ()=>{\r\n\treturn (dispatch)=>{\r\n\t\tForumList().then(res=>{\r\n\t\t\tdispatch(getListAction(res.data))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const getListActionPageAxios = (page)=>{\r\n\treturn (dispatch)=>{\r\n\t\tForumListPage(page).then(res=>{\r\n\t\t\tdispatch(getListActionPage(res.data))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const getSerach = (data)=>({\r\n\ttype:actionTypes.FORUM_LIST_SEARCH,\r\n\tdata\r\n})\r\n\r\nexport const getSerachPage = (data)=>({\r\n\ttype:actionTypes.FORUM_LIST_SEARCH_PAGE,\r\n\tdata\r\n})\r\n\r\nexport const getSerachAxios = (name,page,type,n)=>{\r\n\treturn (dispatch)=>{\r\n\t\tForumListSearch(name,page,n).then(res=>{\r\n\t\t\ttype?dispatch(getSerachPage(res.data)):dispatch(getSerach(res.data))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const getDetaile = (data)=>({\r\n\ttype:actionTypes.FORUM_DETSILE,\r\n\tdata\r\n})\r\n\r\nexport const getgetDetailePageAxios = (id)=>{\r\n\treturn (dispatch)=>{\r\n\t\tForumDetail(id).then(res=>{\r\n\t\t\tdispatch(getDetaile(res.data))\r\n\t\t})\r\n\t}\r\n}\r\nexport const ArticleDel = ()=>({\r\n\ttype:actionTypes.DEL\r\n})","import React,{Component,Fragment} from 'react'\r\nimport {ForumCategory} from '../../api/forum'\r\nimport {ListView, PullToRefresh, SearchBar} from \"antd-mobile\";\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators} from \"./store\";\r\nimport {HashRouter, Link, NavLink} from \"react-router-dom\";\r\nimport { getForumCommentCount, getUser} from \"../../utils/utils\";\r\nimport ReactDOM from \"react-dom\";\r\nclass Index extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        const dataSource = new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2,\r\n        });\r\n        this.state ={\r\n            dataSource,\r\n            refreshing: true,\r\n            isLoading: true,\r\n            page:1,\r\n            categrty:null,\r\n            height: document.documentElement.clientHeight,\r\n            useBodyScroll: false,\r\n            search:true,\r\n        }\r\n        this.changeState = this.changeState.bind(this)\r\n        this.submit = this.submit.bind(this)\r\n    }\r\n    changeState(list){\r\n        const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\r\n        this.setState({\r\n            height:hei,\r\n            dataSource: this.state.dataSource.cloneWithRows(list)\r\n        })\r\n    }\r\n    /**\r\n     *TODO 下拉刷新\r\n     */\r\n    onRefresh=()=>{\r\n        this.setState({ refreshing: true, isLoading: true,page:1 });\r\n        this.props.getHomeList()\r\n    }\r\n    /**\r\n     * TODO 滚动加载数据\r\n     */\r\n    onEndReached = ()=>{\r\n        if(this.state.page){\r\n            this.setState({ refreshing: true, isLoading: true, });\r\n            if ( window.sessionStorage.getItem('forumserach')) {\r\n                this.props.getSerach(window.sessionStorage.getItem('forumserach'),this.state.page,true)\r\n            }else if(window.sessionStorage.getItem('forumserachs')){\r\n                this.props.getSerach(window.sessionStorage.getItem('forumserach'),this.state.page,true,true)\r\n            }else{\r\n                this.props.getHomePage(this.state.page)\r\n            }\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n      this.props.getHomeList()\r\n        ForumCategory().then(res=>{\r\n            this.setState({\r\n                categrty:res.data\r\n            })\r\n        })\r\n        window.sessionStorage.clear()\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.changeState(nextProps.list)\r\n        this.setState({\r\n            refreshing: false,\r\n            isLoading: false,\r\n            search:false,\r\n            height:document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).offsetTop-50,\r\n            page:(nextProps.page.next ? ++this.state.page:'')\r\n        });\r\n    }\r\n    serach(e){\r\n        window.sessionStorage.clear()\r\n        this.setState({\r\n            search:true,\r\n            page:1\r\n        })\r\n        window.sessionStorage.setItem('forumserach',e)\r\n        this.props.getSerach(e,1,)\r\n        document.getElementsByClassName('am-list-view-scrollview')[0].scrollTop=0\r\n\r\n    }\r\n    submit(e){\r\n        window.sessionStorage.clear()\r\n        this.setState({\r\n            search:true,\r\n            page:1\r\n        })\r\n        window.sessionStorage.setItem('forumserachs',e)\r\n        this.props.getSerach(e,1,'',true)\r\n        document.getElementsByClassName('am-list-view-scrollview')[0].scrollTop=0\r\n    }\r\n    render() {\r\n        const row =  (rowData, sectionID, rowID) => {\r\n            return(\r\n                <HashRouter>\r\n                    <div className='list'>\r\n                        <div>\r\n                            <div className='list-header'>\r\n                                <div className='list-header-left one-txt-cut'>\r\n                                    {getUser()? <Link to={JSON.parse(getUser()).id===rowData.authors.id?`/person/`:`/person/${rowData.authors.id}`}>\r\n                                            <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                            {rowData.authors.username}\r\n                                        </Link>\r\n                                        :    <Link to={`/person/${rowData.authors.id}`}>\r\n                                            <img src={rowData.authors.user_imag?rowData.authors.user_imag:rowData.authors.user_image} alt=\"\"/>\r\n                                            {rowData.authors.username}\r\n                                        </Link>\r\n                                    }\r\n                                </div>\r\n                                <div className='list-header-right'><span>{rowData.category.name}</span></div>\r\n                            </div>\r\n                            <div className='list-title list-title-active'>\r\n                                <div className='list-title-left txt-cut list-main'>{rowData.title}</div>\r\n                            </div>\r\n                            <div className='list-desc'>\r\n                                {rowData.desc}\r\n                            </div>\r\n                            <div className='list-footer'>\r\n                                <div className='list-footer-left'>\r\n                                    <span className='click'>{rowData.click_nums}</span>\r\n                                    <span className='comment'>\r\n                                    {getForumCommentCount(rowData)}\r\n                                </span>\r\n                                </div>\r\n                                <div className='list-footer-right'><NavLink to={{pathname:`/forum/detail/${rowData.id}`}}>阅读全文→</NavLink></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            )\r\n        };\r\n        return(\r\n            <Fragment>\r\n                <div>\r\n                    <SearchBar placeholder=\"Search\" onSubmit={this.submit} />\r\n                    <div className='nav'>\r\n                        <div>\r\n                            {this.state.categrty?this.state.categrty.map((item,index)=>{\r\n                                return(\r\n                                    <span key={item.id} onClick={()=>this.serach(item.id)}>{item.name}</span>\r\n                                )\r\n                            }):''}\r\n                        </div>\r\n                    </div>\r\n                    <ListView\r\n                        ref={el => this.lv = el}\r\n                        dataSource={this.state.dataSource}\r\n                        renderRow={row}\r\n                        useBodyScroll={this.state.useBodyScroll}\r\n                        style={{\r\n                            height: this.state.height,\r\n                        }}\r\n                        renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\r\n                            {this.state.isLoading ? 'Loading...' : '没有更多数据了'}\r\n                        </div>)}\r\n                        pullToRefresh={<PullToRefresh\r\n\r\n                            refreshing={this.state.refreshing}\r\n                            onRefresh={this.onRefresh}\r\n                        />}\r\n                        onEndReached={this.onEndReached}\r\n                    />\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state)=>({\r\n    page:state.forum.forumList,\r\n    list:state.forum.list\r\n})\r\nconst mapDispatch =(dispatch)=>({\r\n    getHomeList(){\r\n        dispatch(actionCreators.getListActionAxios())\r\n    },\r\n    getHomePage(page){\r\n        dispatch(actionCreators.getListActionPageAxios(page))\r\n    },\r\n    getSerach(name,page,type,n){\r\n        dispatch(actionCreators.getSerachAxios(name,page,type,n))\r\n    }\r\n})\r\nexport default connect(mapState,mapDispatch)(Index)","import React from 'react'\r\nimport {NavBar, Icon, WingBlank, ActivityIndicator,Toast,Button} from 'antd-mobile'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators} from './store'\r\nimport Editor from 'react-editor-md';\r\nimport { addMyFan, delMyFan} from './../../api/article'\r\nimport {ForumComment,ForumCommentRep} from './../../api/forum'\r\nimport {getOhtersFan} from './../../api/user'\r\nimport Share from '../../components/Share'\r\nimport {dateDiff} from '../../utils/time'\r\n\r\nimport '../../static/css/share.min.css'\r\nimport {getToken, getUser} from \"../../utils/utils\";\r\n\r\nclass ForumDetail extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isShow:true,\r\n            _visite:false,\r\n            model:false,\r\n            comm:null,\r\n            vue:'',\r\n            type:false,\r\n            rep:null,\r\n            user:false,\r\n            follows:false,\r\n            follows_id:null\r\n        }\r\n        this.Change = this.Change.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        let id = this.props.match.params.id\r\n\r\n        this.props.init(id)\r\n\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        console.log(nextProps.list)\r\n        document.title = `论坛-${nextProps.list.forum.detail.title}`;\r\n        document.getElementById('desc').setAttribute('content',nextProps.list.forum.detail.desc)\r\n        document.getElementById('keywords').setAttribute('content',nextProps.list.forum.detail.keywords)\r\n        window.sessionStorage.setItem('k',nextProps.list.forum.detail.content)\r\n\r\n        if (getToken()&&JSON.parse(getUser()).id===nextProps.list.forum.detail.authors.id)this.setState({user:true})\r\n        getOhtersFan(nextProps.list.forum.detail.authors.id,getUser()?JSON.parse(getUser()).id:'').then(res=>{\r\n            this.setState({\r\n                isShow:false\r\n            })\r\n            if (!getUser()) return\r\n            if(res.data.length>0){\r\n                for (let item in res.data){\r\n                    if(res.data[item].fan.id===JSON.parse(getUser()).id){\r\n                        this.setState({follows:true,follows_id:res.data[item].id})\r\n                    }\r\n                }\r\n            }\r\n\r\n        })\r\n    }\r\n    del(){\r\n        if(!getToken())this.props.history.push(`/login/?next=/forum/detail/${this.props.match.params.id}`)\r\n        delMyFan(this.state.follows_id,getToken()).then(res=>{\r\n            if(res.status===204){\r\n                Toast.success('取消关注成功', 1);\r\n                this.setState({follows:false})\r\n            }\r\n        })\r\n    }\r\n    add(e){\r\n        if(!getToken())this.props.history.push(`/login/?next=/forum/detail/${this.props.match.params.id}`)\r\n        let data={\r\n            follow:e.id,\r\n            fan:JSON.parse(getUser()).id\r\n        }\r\n        addMyFan(data,getToken()).then(res=>{\r\n            this.props.init(this.props.match.params.id)\r\n            Toast.success(res.data.message, 1);\r\n        })\r\n    }\r\n    getContent = ()=>{\r\n        return this.props.list.forum.detail.content\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.Unmount()\r\n    }\r\n    show=()=>{\r\n        this.setState({\r\n            _visite:!this.state._visite\r\n        })\r\n    }\r\n    setModel(e){\r\n        if(getToken()){\r\n            this.setState({\r\n                model:true,\r\n                comm:e\r\n            })\r\n        }else{\r\n            this.props.history.push(`/login/?next=/forum/detail/${this.props.match.params.id}`)\r\n        }\r\n    }\r\n    Change(e){\r\n        this.setState({\r\n            vue:e.target.value\r\n        })\r\n    }\r\n    sub(e){\r\n        e.preventDefault()\r\n        if(getToken()){\r\n            if (this.state.vue.trim().length==0)return\r\n            let data={}\r\n            data.forums = `${this.props.match.params.id}`\r\n            data.comments = this.state.vue\r\n            data.user =JSON.parse(getUser()).id\r\n            data.url = `/forum/detail/${this.props.match.params.id}`\r\n            data.cip = window.returnCitySN['cip']\r\n            data.address = window.returnCitySN['cname']\r\n            ForumComment(getToken(),data).then(res=>{\r\n                Toast.success('评论成功',1)\r\n                this.props.init(this.props.match.params.id)\r\n                this.setState({\r\n                    vue:'',\r\n                    rep:null\r\n                })\r\n            }).catch(err=>{\r\n                console.log(err.response)\r\n            })\r\n        }else{\r\n            Toast.fail('未登录',1)\r\n        }\r\n    }\r\n    reple(e){\r\n        if(!getToken())this.props.history.push(`/login/?next=/forum/detail/${this.props.match.params.id}`)\r\n        this.setState({\r\n            type:true,\r\n            rep:e\r\n        },()=>{\r\n            this.textInput.focus();\r\n        })\r\n    }\r\n    subRep(e){\r\n        e.preventDefault()\r\n        if(getToken()){\r\n            if (this.state.vue.trim().length==0)return\r\n            let data={}\r\n            data.comments = this.state.vue\r\n            data.user =JSON.parse(getUser()).id\r\n            data.url = `/forum/detail/${this.props.match.params.id}`\r\n            data.cip = window.returnCitySN['cip']\r\n            data.address = window.returnCitySN['cname']\r\n            data.to_Parent_Comments =this.state.rep.user.id\r\n            data.forums =this.state.rep.forums\r\n            data.parent_comments =this.state.rep.parent_comments\r\n            ForumCommentRep(data,getToken()).then(res=>{\r\n                console.log(res)\r\n                this.props.init(this.props.match.params.id)\r\n                this.setState({\r\n                    vue:'',\r\n                    rep:null,\r\n                    model:false\r\n                })\r\n                Toast.success('回复成功',1)\r\n            })\r\n        }else{\r\n            Toast.fail('未登录',1)\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let list = this.props.list.forum.detail\r\n        const comm=()=>{\r\n            return(\r\n                <div className='commit'>\r\n                    <p className='commit-p'></p>\r\n                    <div className=\"commit-main\">\r\n                        {list.comment_set.map((item,index)=>{\r\n                            return(\r\n                                <div key={index} className='commit-body'>\r\n                                    <div className='commit-body-img'>\r\n\r\n                                        <Link to={`/person/${item.user.id}`}><img src={item.user.user_imag?item.user.user_imag:item.user.user_image?item.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/></Link>\r\n\r\n                                    </div>\r\n                                    <div className='commit-body-text'>\r\n                                        <h4>{item.user.username}</h4>\r\n                                        <p>\r\n                                            {item.comments}\r\n                                        </p>\r\n                                        <p>{dateDiff(new Date(item.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                            <span onClick={()=>this.setModel(item)} className={item.parent_comment_set.length>0?'active':''}>{item.parent_comment_set.length>0?item.parent_comment_set.length:''}回复</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div>\r\n                <WingBlank>\r\n                    <ActivityIndicator toast text=\"正在加载\" animating={this.state.isShow} />\r\n                </WingBlank>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={<Icon type=\"left\" />}\r\n                    onLeftClick={() => this.props.history.goBack()}\r\n                    rightContent={\r\n                        <Icon key=\"1\" type=\"ellipsis\"onClick={this.show} />\r\n                    }\r\n                >论坛</NavBar>\r\n                {!this.state.isShow?\r\n                    <div className=\"main\">\r\n                        <div className='detail-header'>\r\n                            <div className='detaile-header-img'>\r\n                                {this.state.user?<Link to={`/person/`}>\r\n                                    <img src={list.authors.user_imag?list.authors.user_imag:list.authors.user_image} alt=\"\"/></Link>\r\n                                    :<Link to={`/person/${list.authors.id}`}>\r\n                                        <img src={list.authors.user_imag?list.authors.user_imag:list.authors.user_image} alt=\"\"/>\r\n                                    </Link>}\r\n\r\n                                <div className='detaile-header-info'>\r\n                                    <h4>{list.authors.username}</h4>\r\n                                    <span>{dateDiff(new Date(list.add_time.replace(/-/g, \"/\")).getTime())}发布</span>\r\n                                    <span className='click'>阅读 {list.click_nums}</span>\r\n                               {/*     <span className='comment'>{getCommentCount(list)}</span>*/}\r\n                                </div>\r\n                                {this.state.follows?<Button type=\"primary\" inline size=\"small\" style={{ marginRight: '4px' }} onClick={()=>this.del()}>已关注</Button>:<Button type=\"ghost\" inline size=\"small\" style={{ marginRight: '4px' }} onClick={()=>this.add(list.authors)}>关注</Button>}\r\n\r\n\r\n                            </div>\r\n                            <h1>{list.title}</h1>\r\n                        </div>\r\n                        <Editor.EditorShow config={\r\n                            {\r\n                                markdown: this.getContent(),\r\n                            }\r\n                        }/>\r\n                        {comm()}\r\n                        <div className=\"footer\">\r\n                            {getToken()?<form action='' onSubmit={(e)=>this.sub(e)}>\r\n                                <input type=\"text\" value={this.state.vue} onChange={this.Change} placeholder='说点什么吧'/>\r\n                            </form>:<Link to={`/login/?next=/forum/detail/${this.props.match.params.id}`}>登录后可评论</Link>}\r\n\r\n                        </div>\r\n\r\n                        <div id='model' onClick={()=>this.setState({_visite:false})} className={\r\n                            this.state._visite\r\n                            ?\"animated-fade-in\" : \"animated-fade-out\"\r\n                        }>\r\n                            <div className='model-main'\r\n                                 onClick={e => {\r\n                                e.stopPropagation();\r\n                            }}>\r\n                                <Share\r\n                                    className={\r\n                                        this.state._visite\r\n                                            ? \"animated-slide-in-up\"\r\n                                            : \"animated-slide-out-down\"\r\n                                    }\r\n                                    title={document.title}\r\n                                    url={window.location.href}\r\n                                    image={list.authors.user_imag?list.authors.user_imag:list.authors.user_image}\r\n                                    description={document.getElementById('desc').getAttribute('content')}\r\n                                    origin={window.location.href}\r\n                                    sites={ ['weibo','qq','wechat','douban','qzone']}\r\n                                />\r\n                                <p className='close' onClick={()=>this.setState({_visite:false})}>取消</p>\r\n                            </div>\r\n                        </div>\r\n                        {this.state.model?\r\n                            <div className={  this.state.model\r\n                                ?\" model animated-fade-in\" : \"animated-fade-out\"}>\r\n                                <NavBar\r\n                                    icon={<Icon type=\"down\" />}\r\n                                    onLeftClick={() => this.setState({model:false})}\r\n                                >回复</NavBar>\r\n\r\n                                <div className='commit' style={{marginTop:50}}>\r\n                                    <div className=\"commit-main\">\r\n                                        <div className='commit-body'>\r\n                                            <div className='commit-body-img'>\r\n                                                        <img src={this.state.comm.user.user_imag?this.state.comm.user.user_imag:this.state.comm.user.user_image?this.state.comm.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n                                                    </div>\r\n                                            <div className='commit-body-text'>\r\n                                                        <h4>{this.state.comm.user.username}</h4>\r\n                                                        <p>\r\n                                                            {this.state.comm.comments}\r\n                                                        </p>\r\n                                                        <p className='timer'>{dateDiff(new Date(this.state.comm.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                                        <span onClick={()=>this.reple(this.state.comm)}>回复</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                        </div>\r\n                                        {this.state.comm.parent_comment_set.map((item,index)=>{\r\n                                            return(\r\n                                                <div key={index} className='commit-body'>\r\n                                                    <div className='commit-body-img'>\r\n                                                        <img src={item.user.user_imag?item.user.user_imag:item.user.user_image?item.user.user_image:'https://www.fengjinqi.com/static/img/pc-icon.png'} alt=\"\"/>\r\n\r\n                                                    </div>\r\n                                                    <div className='commit-body-text'>\r\n                                                        <h4>{item.user.username}</h4>\r\n                                                        <p>\r\n                                                            回复 <span className='user'>{item.to_Parent_Comments.username}</span> {item.comments}\r\n                                                        </p>\r\n                                                        <p className='timer'>{dateDiff(new Date(item.add_time.replace(/-/g, \"/\")).getTime())}\r\n                                                            <span onClick={()=>this.reple(item)}>回复</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.type?<form action=\"\"  className='footer' onSubmit={(e)=>this.subRep(e)}>\r\n                                    <input type=\"text\" placeholder='说点什么吧' value={this.state.vue} onChange={this.Change} onBlur={()=>this.setState({type:false,vue:'',rep:null})} ref={(input) => { this.textInput = input; }} />\r\n                                </form>:''}\r\n\r\n                            </div>\r\n                            :null}\r\n\r\n                    </div>\r\n                   :''}\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}\r\nconst mapState=(state)=>({\r\n    list:state\r\n})\r\n\r\nconst mapDispatch = (dispatch)=>({\r\n    init(id){\r\n        dispatch(actionCreators.getgetDetailePageAxios(id))\r\n    },\r\n    Unmount(){\r\n        dispatch(actionCreators.ArticleDel())\r\n    }\r\n\r\n})\r\nexport default connect(mapState,mapDispatch)(ForumDetail)\r\n\r\n//TODO 前端，移动端，小程序、app、node、php、Java、python、服务器、数据库、大数据、云计算、人工智能、UI、操作系统、爬虫、go、c/c++ c#","import {HashRouter,Switch,Route} from 'react-router-dom'\r\nimport React from 'react'\r\nimport App from './App'\r\nimport Home from './pages/home'\r\nimport ArticleDetail from './pages/article/detail'\r\nimport Person from './pages/my'\r\nimport Login from './pages/login'\r\nimport NotFound from './components/NotFound'\r\nimport myArticle from './pages/my/myArticle'\r\nimport myForum from './pages/my/myForum'\r\nimport myFan from \"./pages/my/myFan\";\r\nimport myFollows from \"./pages/my/myFollows\";\r\nimport Info from \"./pages/my/myInfo\";\r\nimport InfoUpdate from \"./pages/my/myInfoDe\";\r\nimport myMessageList from \"./pages/my/myMessageList\";\r\nimport OthersPerson from \"./pages/my/othersIndex\";\r\nimport OthersInfo from \"./pages/my/others/OthersInfo\";\r\nimport OthersArticles from \"./pages/my/others/OthersArticles\";\r\nimport OthersForum from \"./pages/my/others/OthersForum\";\r\nimport OthersFan from \"./pages/my/others/OthersFan\";\r\nimport OthersFollows from \"./pages/my/others/OthersFollows\";\r\nimport Forum from \"./pages/forum\";\r\nimport ForumDetail from \"./pages/forum/detail\";\r\n  class Router extends React.Component{\r\n    render() {\r\n        return(\r\n            <HashRouter>\r\n                <App>\r\n\r\n                    <Switch>\r\n                        <Route path='/login/' exact component={Login}/>\r\n                        <Route path='/' exact component={Home}/>\r\n                        <Route path='/article/detail/:id' exact component={ArticleDetail}/>\r\n                        <Route path='/person/' exact component={Person}/>\r\n                        <Route path='/person/article'exact component={myArticle}/>\r\n                        <Route path='/person/forum'exact component={myForum}/>\r\n                        <Route path='/person/myFan' exact component={myFan}/>\r\n                        <Route path='/person/myFollows'exact component={myFollows}/>\r\n                        <Route path='/person/info'exact component={Info}/>\r\n                        <Route path='/person/update' component={InfoUpdate}/>\r\n                        <Route path='/person/message' component={myMessageList}/>\r\n                        <Route path='/person/:id'exact  component={OthersPerson}/>\r\n                        <Route path='/person/info/:id' exact component={OthersInfo}/>\r\n                        <Route path='/person/article/:id'exact component={OthersArticles}/>\r\n                        <Route path='/person/forum/:id'exact component={OthersForum}/>\r\n                        <Route path='/person/fan/:id'exact component={OthersFan}/>\r\n                        <Route path='/person/follows/:id'exact component={OthersFollows}/>\r\n                        <Route path='/forum/' exact component={Forum}/>\r\n                        <Route path='/forum/detail/:id' exact component={ForumDetail}/>\r\n                        <Route component={NotFound}/>\r\n                        {/*<Redirect form='/*' to='/'/>*/}\r\n                    </Switch>\r\n\r\n                </App>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\nexport default Router","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {MY_GETINFO,MY_ARTICLE_LIST,MY_ARTICLE_LIST_PAGE,MY_FORUM_LIST_PAGE,MY_FORUM_LIST,MY_FAN,MY_FOLLOW,\r\n    MY_GETMESSAGECOUNT,OTHERARTICLE,OTHERARTICLE_PAGE,OTHERFORUM_PAGE,OTHERFORUM} from './actionTypes'\r\nconst defaultState = {\r\n    info:[],\r\n    myArticle:[],\r\n    myArticlePage:[],\r\n    myForum:[],\r\n    myForumPage:[],\r\n    myFan:[],\r\n    myFollow:[],\r\n    myMessageType:[],\r\n    otherArticle:[],\r\n    otherArticlePage:[],\r\n    otherForum:[],\r\n    otherForumPage:[],\r\n\r\n}\r\n\r\nexport default (state=defaultState,action)=>{\r\n    switch (action.type) {\r\n        case MY_GETINFO:\r\n            return {\r\n                ...state,\r\n                info:action.data,\r\n            }\r\n        case MY_ARTICLE_LIST:\r\n            return {\r\n                ...state,\r\n                myArticle:action.data.results,\r\n                myArticlePage:action.data\r\n            }\r\n        case MY_ARTICLE_LIST_PAGE:\r\n            return {\r\n                ...state,\r\n                myArticlePage:action.data,\r\n                myArticle:state.myArticle.concat(action.data.results)\r\n            }\r\n        case MY_FORUM_LIST:\r\n            return {\r\n                ...state,\r\n                myForum:action.data.results,\r\n                myForumPage:action.data\r\n            }\r\n        case MY_FORUM_LIST_PAGE:\r\n            return {\r\n                ...state,\r\n                myForum:state.myForum.concat(action.data.results),\r\n                myForumPage:action.data\r\n            }\r\n        case MY_FAN:\r\n\r\n            return {\r\n                ...state,\r\n                myFan: action.data\r\n            }\r\n        case MY_FOLLOW:\r\n            return {\r\n                ...state,\r\n                myFollow: action.data\r\n            }\r\n        case MY_GETMESSAGECOUNT:\r\n            return {\r\n                ...state,\r\n                myMessageType: action.data\r\n            }\r\n        case OTHERARTICLE:\r\n            return {\r\n                ...state,\r\n                otherArticle:action.data.results,\r\n                otherArticlePage:action.data\r\n            }\r\n        case OTHERARTICLE_PAGE:\r\n            return {\r\n                ...state,\r\n                otherArticlePage:action.data,\r\n                otherArticle:state.otherArticle.concat(action.data.results)\r\n            }\r\n\r\n        case OTHERFORUM:\r\n            return {\r\n                ...state,\r\n                otherForum:action.data.results,\r\n                otherForumPage:action.data\r\n            }\r\n        case OTHERFORUM_PAGE:\r\n            return {\r\n                ...state,\r\n                otherForum:state.otherForum.concat(action.data.results),\r\n                otherForumPage:action.data\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}","import {combineReducers} from 'redux'\r\nimport {reducer as home} from '../pages/home/store'\r\nimport {reducer as article} from '../pages/article/store'\r\nimport {reducer as my} from '../pages/my/store'\r\nimport {reducer as forum} from '../pages/forum/store'\r\nconst reducer = combineReducers({\r\n    home,\r\n    article,\r\n    my,\r\n    forum\r\n})\r\n\r\n\r\nexport default reducer\r\n","import {createStore,compose,applyMiddleware} from 'redux'\r\nimport reducer from './reducer'\r\nimport thunk from 'redux-thunk'\r\nconst composeEnhancers =   window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):compose\r\nconst store = createStore(reducer,composeEnhancers(applyMiddleware(thunk)))\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Router from './router';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './store'\r\n\r\nimport {Provider} from 'react-redux'\r\nconst Main = (\r\n    <Provider store={store}>\r\n           <Router/>\r\n    </Provider>\r\n)\r\nReactDOM.render(Main, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}